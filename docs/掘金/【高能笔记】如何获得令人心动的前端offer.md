## å‰è¨€

ç¡¬æ ¸çš„å“ªå’ï¼Œæˆ‘çš„å‘½ç”±æˆ‘ä¸ç”±å¤©ã€‚

ç²¾å½©å›é¡¾ï¼š

[ã€å›¾æ–‡å¹¶èŒ‚ï¼Œç‚¹èµæ”¶è—å“¦ï¼ã€‘é‡å­¦å·©å›ºä½ çš„VuejsçŸ¥è¯†ä½“ç³»](https://juejin.im/post/5e6e2a5a5188254974680f6a)

[ã€æ€ç»´å¯¼å›¾ã€‘å‰ç«¯å¼€å‘-å·©å›ºä½ çš„JavaScriptçŸ¥è¯†ä½“ç³»](https://juejin.im/post/5e8089dde51d4546d72d2099)

[Webé¡µé¢åˆ¶ä½œåŸºç¡€](https://juejin.im/post/5e7db7446fb9a03c2e540903)

[å­¦ä¹ æ€»ç»“ä¹‹HTML5å‰‘æŒ‡å‰ç«¯ï¼ˆå»ºè®®æ”¶è—ï¼Œå›¾æ–‡å¹¶èŒ‚ï¼‰](https://juejin.im/post/5e5bc764518825494466ad66)

[å‰ç«¯é¢è¯•å¿…å¤‡ES6å…¨æ–¹ä½æ€»ç»“](https://juejin.im/post/5e480441518825495371f5c7)

æœ¬æ–‡å†…å®¹å‚åŠ æ˜é‡‘æŠ€æœ¯å¾æ–‡æ´»åŠ¨ã€Š**2020æ˜¥æ‹›é¢è¯•å¾æ–‡**ã€‹ï¼Œå¸Œæœ›å¤§å®¶æ”¯æŒï¼Œä¸è¦å¿˜è®°ç•™ä¸‹ä½ å­¦ä¹ çš„è„šå°ï¼Œã€ç‚¹èµã€‘ï¼Œã€è¯„è®ºã€‘ï¼Œã€æ”¶è—ã€‘ä»¥ä¸‹å†…å®¹æ¶‰åŠğŸ‘‡ï¼š

å‘å¸ƒåˆ†ç±»å½’äºã€é˜…è¯»ã€‘ï¼Œæ ‡ç­¾ä¸ºã€é¢è¯•ã€‘

> ç›®å½•

1. ä¸ªäººçš„é¢è¯•ç»å†
2. å½“ä½œä¸ºè€ƒå®˜æˆ‘ä¼šè€ƒé—®ä½ çš„é¢è¯•é‡ç‚¹
3. ä¸ªäººæ”¶é›†å¤§å‚é¢è¯•é¢˜åº“ï¼ˆå«ç­”æ¡ˆï¼‰
4. é¢è¯•æ—¶çš„å°æŠ€å·§
5. æ•´ç†çš„çŸ¥è¯†ä½“ç³»ï¼ˆä¸ªäººé‡ç‚¹å†…å®¹ï¼‰
6. å¯¹äºæœ‰é¢è¯•éœ€æ±‚çš„æœ‹å‹ï¼Œéœ€è¦çš„å¸®åŠ©

æ‰€è°“ä»¤äººå¿ƒåŠ¨çš„offerå³æ˜¯è®©ä½ å¿ƒä»ªçš„ï¼Œæƒ³è¦çš„ï¼Œæ‰€è¿½æ±‚çš„ï¼Œå¦‚æœä½ æ˜¯ç¤¾ä¼šäººå£«ï¼Œæƒ³èµ·å½“å¹´é¢è¯•çš„è‡ªå·±æœ‰è¿‡å“ªäº›çš„ç»å†å‘¢ï¼Ÿæ˜¯å¦é—æ†¾åœ¨ğŸ«å­¦æ ¡æ—¶ä¸æ›¾åšæŒåŠªåŠ›çš„è‡ªå·±ï¼Ÿå¦‚æœä½ æ˜¯åœ¨æ ¡ç”Ÿï¼Œä½ ä¼šé¢ä¸´å‡ºæ ¡åçš„ä¸€åœºé¢è¯•ï¼Œæ˜¯å¦å·²ç»å‡†å¤‡ğŸ‘Œå¥½äº†å‘¢ï¼Ÿ

é¢è¯•å¦‚åŒè€ƒè¯•ï¼Œæ£€éªŒä½ çš„çŸ¥è¯†ç‚¹æ˜¯å¦å·²ç»ç‰¢ç‰¢æŒæ¡ï¼Œä¸€æ¬¡é¢è¯•çš„æˆåŠŸä¼šè®©ä½ å¯¹è‡ªå·±å……æ»¡ä¿¡å¿ƒï¼Œä¹Ÿè®¸å¤§å¤šæ•°äººé¢ä¸´çš„é¢è¯•éƒ½æ˜¯ä¸€æ¬¡æ¬¡çš„å¤±è´¥ï¼Œå¾—åˆ°æŒ«è´¥æ„Ÿçš„å¿ƒçµæ‰“å‡»ã€‚

é‚£ä¹ˆé¢è¯•å¦‚ä½•åšåˆ°å¯¹ç­”å¦‚æµï¼Œæˆ–è€…ä½ä¸€ç‚¹è¦æ±‚å¦‚ä½•è®©å¯¹æ–¹è®°ä½ä½ å‘¢ï¼Ÿåœ¨è€ƒå®˜çš„é€å±‚ç›˜é—®ä¸‹ï¼Œåœ¨è„‘æµ·é‡Œæ¢³ç†èµ·è‡ªå·±çš„çŸ¥è¯†ä½“ç³»ï¼Œæ‰¾åˆ°è‡ªå·±æƒ³è¦çš„ç­”æ¡ˆã€‚

> é¢è¯•ç»éªŒï¼Œå…¶å®å¯ä»¥ä¸¾ä¸€åä¸‰ï¼Œç±»æ¯”è€ƒè¯•ï¼Œç»è¿‡ä»¥å¾€çš„åœ¨æ ¡è€ƒè¯•ï¼Œå­¦ä¹ æŠ€å·§ç­‰ç›¸ç±»ä¼¼ï¼Œåªä¸è¿‡é¢è¯•æ˜¯é¢è¯•ç®¡å½“åœºé—®ä½ é¢˜ç›®ï¼Œä½ ä½œç­”è¿™æ ·çš„ä¸€ç§æ¨¡å¼ï¼Œé¢è¯•ä¸€èˆ¬æœ‰å‡ è½®ï¼Œå„å„å…¬å¸å„æœ‰ä¸åŒè€Œå·²ã€‚

é¢è¯•ä¹Ÿæ˜¯ä¸€æ¬¡éš¾å¾—çš„è‡ªæˆ‘æ‘¸åº•è€ƒè¯•ã€‚ä»ç›®å½•ä¸­çš„6ç‚¹å†…å®¹ï¼Œå¸Œæœ›èƒ½å¸®åŠ©è‡ªå·±ä¹Ÿå¸®åŠ©ä»–äººçš„æˆé•¿ã€‚

### 1. ä¸ªäººçš„é¢è¯•ç»å†

ä¸ªäººçš„é¢è¯•ç»å†ï¼Œä»åœ¨æ ¡è¢«è€å¸ˆæ¨èåˆ°æœ‹å‹çš„å‰ç«¯å¼€å‘å·¥ä½œå²—ä½ï¼Œåˆ°è‡ªå·±é‡æ–°æ‰¾å·¥ä½œï¼Œåå¤é¢è¯•äº†å‡ å®¶è¿›äº†å…¶ä¸­ä¸€å®¶ï¼Œåˆ°ç›®å‰çš„æŸå…¬å¸å‰ç«¯å¼€å‘è´Ÿè´£äººï¼Œä¸ªäººæ„Ÿè§‰è‡ªå·±çš„é¢è¯•ç»å†éƒ½æ˜¯æ­¥å…¥æ­£å¸¸è½¨è¿¹ï¼Œå³æ˜¯å‡†å¤‡é¢è¯•ç®€å†ï¼Œå±•ç¤ºè‡ªå·±çš„é¡¹ç›®åˆ°è®ºè¿°è‡ªå·±åœ¨æ ¡çš„æˆå°±ç­‰ã€‚

å†…å®¹é‡ç‚¹å¼ºè¡Œåœ¨äºé¢è¯•çš„ç»éªŒä¸é¢è¯•çš„å‡†å¤‡ï¼Œé¢è¯•å‡†å¤‡å…¶å®å°±æ˜¯è‡ªå·±æŒæ¡çš„çŸ¥è¯†ä½“ç³»ï¼Œä¸å¿…å¤‡çš„é¢è¯•è€ƒç‚¹ï¼Œç½‘çº¢é¢˜ç›®ã€‚

### 2. å½“ä½œä¸ºè€ƒå®˜æˆ‘ä¼šè€ƒé—®ä½ çš„é¢è¯•é‡ç‚¹

ä¸‹é¢ï¼Œå¸¦ä½ ä¸€èµ·é˜…è¯»ä¸€ä¸‹çŸ¥è¯†ä½“ç³»ï¼Œå¤§ç¯‡å¹…é¢è¯•é‡ç‚¹ã€‚å¸Œæœ›èƒ½å¸®åŠ©åˆ°ä½ ã€‚

#### é¢è¯•å®˜ï¼šè¯´è¯´`VueRouter`

`Vue.js`åŠ `Vue Router`åˆ›å»ºå•é¡µåº”ç”¨ï¼Œéå¸¸ç®€å•ã€‚é€šè¿‡ç»„åˆç»„ä»¶æ¥ç»„æˆè‡ªå·±çš„åº”ç”¨ç¨‹åºï¼Œå½“è¦æŠŠ`Vue Router`æ·»åŠ è¿›æ¥ï¼Œç„¶åæŠŠç»„ä»¶`components`æ˜ å°„åˆ°è·¯ç”±`routes`ï¼Œç„¶åå‘Šè¯‰`Vue Router`æ¸²æŸ“å®ƒä»¬ã€‚

`VueRouter`ä¸­çš„åŠ¨æ€è·¯ç”±åŒ¹é…ï¼Œå¯ä»¥åœ¨è·¯ç”±ä¸­è®¾ç½®å¤šæ®µâ€œè·¯å¾„å‚æ•°â€ï¼Œå¯¹åº”çš„å€¼éƒ½ä¼šè®¾ç½®åˆ°`$route.params`ä¸­ã€‚

|æ¨¡å¼|	åŒ¹é…è·¯å¾„|	`$route.params`|
|:---|:---|:---|
|`/user/:username`|	`/user/evan`|	`{ username: 'evan' }`|
|`/user/:username/post/:post_id`|	`/user/evan/post/123`|	`{ username: 'evan', post_id: '123' }`|

> å“åº”è·¯ç”±å‚æ•°çš„å˜åŒ–

å½“ä½¿ç”¨è·¯ç”±å‚æ•°æ—¶ï¼Œä»`/user/foo`å¯¼èˆªåˆ°`/user/bar`ï¼ŒåŸæ¥çš„ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚å› ä¸ºä¸¤ä¸ªè·¯ç”±éƒ½æ¸²æŸ“åŒä¸ªç»„ä»¶ï¼Œæ¯”èµ·é”€æ¯å†åˆ›å»ºï¼Œå¤ç”¨åˆ™æ˜¾å¾—æ›´åŠ é«˜æ•ˆã€‚ä¸è¿‡ï¼Œè¿™ä¹Ÿæ„å‘³ç€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šå†è¢«è°ƒç”¨ã€‚

- `Vue Router`ä¸­çš„åµŒå¥—è·¯ç”±
- ç¼–ç¨‹å¼çš„å¯¼èˆª

å£°æ˜å¼ä¸ç¼–ç¨‹å¼ï¼š

|å£°æ˜å¼|	ç¼–ç¨‹å¼|
|:---|:---|
|`<router-link :to="...">`|	`router.push(...)`|

ç¤ºä¾‹ï¼š

```
router.replace(location, onComplete?, onAbort?)
```

å£°æ˜å¼ä¸ç¼–ç¨‹å¼ï¼š

|å£°æ˜å¼|	ç¼–ç¨‹å¼|
|:---|:---|
|`<router-link :to="..." replace>`|	`router.replace(...)`|

- äº†è§£å‘½åè·¯ç”±çš„ä½¿ç”¨
- äº†è§£`VueRouter`é‡å®šå‘å’Œåˆ«åçš„ä½¿ç”¨
- äº†è§£è·¯ç”±ç»„ä»¶ä¼ å‚:å¸ƒå°”æ¨¡å¼ï¼Œå¯¹è±¡æ¨¡å¼ï¼Œå‡½æ•°æ¨¡å¼
- äº†è§£`Vue Router`çš„`html5 history`æ¨¡å¼
- äº†è§£å¦‚ä½•ç”¨`webpack`ä»é›¶æ„å»º`vue.js+vuerouter+webpack`é¡¹ç›®
- äº†è§£`VUe Router`ä¸­çš„å¯¼èˆªå®ˆå«
- äº†è§£`Vue Router`ä¸­çš„è·¯ç”±å…ƒä¿¡æ¯
- äº†è§£`Vue Router`ä¸­çš„è¿‡æ¸¡åŠ¨æ•ˆ
- äº†è§£`Vue Router`ä¸­çš„æ•°æ®è·å–
- äº†è§£`Vue Router`ä¸­çš„æ»šåŠ¨è¡Œä¸º

`vue-router`æ˜¯ä»€ä¹ˆï¼Œè¿™é‡Œçš„è·¯ç”±å°±æ˜¯`SPA`ï¼ˆå•é¡µåº”ç”¨ï¼‰çš„è·¯å¾„ç®¡ç†å™¨ã€‚è·¯ç”±æ¨¡å—çš„æœ¬è´¨å°±æ˜¯å»ºç«‹èµ·`url`å’Œé¡µé¢ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚

å•é¡µé¢åº”ç”¨(`SPA`)çš„æ ¸å¿ƒä¹‹ä¸€æ˜¯: æ›´æ–°è§†å›¾è€Œä¸é‡æ–°è¯·æ±‚é¡µé¢

`hash`æ¨¡å¼ï¼Œé»˜è®¤ä¸º`hash`æ¨¡å¼ï¼Œä½¿ç”¨`url`çš„`hash`æ¥æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„`url`ï¼Œå½“`url`å‘ç”Ÿæ”¹å˜æ—¶ï¼Œé¡µé¢æ˜¯ä¸ä¼šé‡æ–°åŠ è½½çš„ã€‚

`hash`æ˜¯`#`ï¼Œ`url`çš„é”šç‚¹ï¼Œè¡¨ç¤ºç½‘é¡µä¸­çš„ä¸€ä¸ªä½ç½®ï¼Œåªæ”¹å˜`#`ç¬¦å·åçš„éƒ¨åˆ†æ˜¯ä¸ä¼šé‡æ–°åŠ è½½ç½‘é¡µï¼Œåªä¼šæ»šåŠ¨åˆ°ç›¸åº”çš„ä½ç½®ã€‚

å³æ˜¯`hash`å‡ºç°åœ¨`url`ä¸­ï¼Œä¸ä¼šè¢«åŒ…å«åœ¨`http`è¯·æ±‚ä¸­ï¼Œå¯¹åç«¯æ²¡æœ‰å½±å“ï¼Œæ‰€ä»¥æ”¹å˜`hash`æ˜¯ä¸ä¼šé‡æ–°åŠ è½½é¡µé¢çš„ã€‚ä½†æ˜¯æ³¨æ„ï¼Œæ¯æ¬¡æ”¹å˜`#`ç¬¦å·åé¢çš„éƒ¨åˆ†ï¼Œéƒ½ä¼šåœ¨æµè§ˆå™¨çš„è®¿é—®å†å²ä¸­æ·»åŠ ä¸€ä¸ªè®°å½•ï¼Œå½“ä½¿ç”¨â€œåé€€â€æŒ‰é’®æ—¶ï¼Œå°±å¯ä»¥å›åˆ°ä¸Šä¸€æ¬¡çš„ä½ç½®ã€‚

`hash`æ¨¡å¼ä¸‹ï¼Œé€šè¿‡æ”¹å˜é”šç‚¹å€¼ï¼Œæ ¹æ®ä¸åŒçš„å€¼å°±å¯ä»¥æ¸²æŸ“è‡³`dom`æŒ‡å®šçš„ä½ç½®ã€‚

> `hash`æ¨¡å¼çš„åŸç†æ˜¯`onhashchange`äº‹ä»¶ï¼Œç”¨äºç›‘å¬`hash`å€¼çš„å˜åŒ–ï¼Œå¯ä»¥åœ¨`window`å¯¹è±¡ä¸Šç›‘å¬è¿™ä¸ªäº‹ä»¶ã€‚

`history`æ¨¡å¼ï¼Œåˆ©ç”¨äº†`html5 history interface`ä¸­çš„`pushState()`æ–¹æ³•å’Œ`replaceState()`æ–¹æ³•ï¼Œè¿™ä¸¤ç§æ–¹æ³•ç”¨äºæµè§ˆå™¨è®°å½•æ ˆã€‚

ä½¿ç”¨`history`æ¨¡å¼ï¼Œéœ€è¦åå°é…ç½®æ”¯æŒï¼Œä¼šæ›´å¥½ï¼åœ¨æœåŠ¡å™¨ç«¯å¢åŠ ä¸€ä¸ªèƒ½å¤Ÿè¦†ç›–æ‰€æœ‰æƒ…å†µçš„é™æ€èµ„æºï¼Œå¦‚æœ`url`åŒ¹é…ä¸åˆ°ä»»ä½•é™æ€èµ„æºï¼Œå°±åº”è¯¥è¿”å›ä¸€ä¸ª`index.html`é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢å°±æ˜¯`app`ä¾èµ–çš„é¡µé¢ã€‚

```
const routes = [ 
  {path: "/", name: "home", component:Home}
  {path: "/register", name: "register", component: Register},
  {path: "/login", name: "login", component: Login},
  {path: "*", redirect: "/"}]
```

å®ç°é¡µé¢è·³è½¬çš„æ–¹å¼ï¼š

![](https://user-gold-cdn.xitu.io/2020/4/12/1716deddc8709fc1?w=721&h=241&f=png&s=22173)

ç¤ºä¾‹ï¼š

```
import Vue from 'vue';
import VueRouter from 'vue-router';
import App from './components/app.vue';
import Home from './components/home.vue'
Vue.use(VueRouter);
let router = new VueRouter({
    routes: [
        { path: '/home', component: Home }
    ]
});
new Vue({
    el: '#app',
    router: router,
    render: c => c(App),
})
```

```
<template>
    <div>
        <router-view></router-view>
    </div>
</template>
<script>
    export default {
        data(){
            return {}
        }
    }
</script>
```

![](https://user-gold-cdn.xitu.io/2020/4/12/1716e00c9e29578f?w=1253&h=578&f=png&s=87953)
 
```
this.$router.go(-1)

this.$router.replace('/1')

this.$router.replace({name:'1'})

this.$router.push('/1')

this.$router.push({name:'1'})
```

é‚£ä¹ˆ`$router.push`å’Œ`$router.replace`çš„åŒºåˆ«

1. ä½¿ç”¨`push`æ–¹æ³•çš„è·³è½¬ä¼šå‘`history`æ ˆä¸­æ·»åŠ æ–°çš„è®°å½•ï¼Œå½“ç‚¹å‡»æµè§ˆå™¨è¿”å›æŒ‰é’®æ—¶å¯ä»¥è¿”å›ä¹‹å‰çš„é¡µé¢
2. ä½¿ç”¨`replace`æ–¹æ³•ä¸ä¼šå‘`history`æ·»åŠ æ–°è®°å½•ï¼Œè€Œæ˜¯æ›¿æ¢æ‰å½“å‰çš„`history`è®°å½•ã€‚

å®‰è£…ä¾èµ–ï¼š`npm install vue-router`

`main.js`:

```
import Vue from 'vue'
import APP from './App'
import router from './router'

new Vue({
 router: router,
 render: h=>h(App),
 data: {
     eventHub: new Vue()
 }
}.$mount('#app');
```

æ‡’åŠ è½½çš„æ–¹å¼ï¼š

```
component: resolve => require(['/'], resolve)
```

```
import Vue from 'vue';
import VueRouter from 'vue-router';
import linkParams from './page/linkParams.vue';
Vue.use(VueRouter);
const router = new VueRouter({
 mode: 'history',
 base: __dirname,
 routes: [
  {
      path: '/linkParams/:userId',
      name: 'linkParams',
      component: linkParams
  },
  {
      path: '/imgParams',
      name: 'xxx',
      component: resolve => require([], resolve)
  }
 ]
})
```

> ç¼–ç¨‹å¼å¯¼èˆª

ç¤ºä¾‹ï¼š

```
this.$router.push('home')

this.$router.push({path: 'home'})

this.$router.push({name:'user',params:{userId:123}})

this.$router.push({path: 'register', query: {userId: '123'}})
```

å…¨å±€é’©å­å‡½æ•°

```
router.beforeEach((to, from, next)=>{
  next();
});
router.afterEach((to, from, next) => {

});
```

è·¯ç”±ç‹¬äº«é’©å­å‡½æ•°

```
const router = new VueRouter({
  routes: [
    {
      path: '/foo',
      component: Foo,
      beforeEnter: (to, from, next) => {
        // ...
      }
    }
  ]
})
```

ç»„ä»¶å†…é’©å­å‡½æ•°

```
const BOO = {
    template: '---',
    beforeRouteEnter(to, from, next){
        
    },
    beforeRouteUpdate(to, from, next){
        
    },
    beforeRouteLeave(to, from, next){
        
    }
}
```

`route object`è·¯ç”±ä¿¡æ¯å¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰æ¿€æ´»çš„è·¯ç”±çš„çŠ¶æ€ä¿¡æ¯ï¼ŒåŒ…å«äº†å½“å‰`url`è§£æå¾—åˆ°çš„ä¿¡æ¯ï¼Œè¿˜æœ‰`url`åŒ¹é…åˆ°çš„`route records`è·¯ç”±è®°å½•ã€‚

`spa`å•é¡µé¢åº”ç”¨ï¼Œå‰ç«¯è·¯ç”±çš„æ ¸å¿ƒå°±æ˜¯æ”¹å˜è§†å›¾çš„åŒæ—¶ä¸ä¼šå‘åç«¯å‘å‡ºè¯·æ±‚ã€‚

`webpack`æ­å»ºé¡¹ç›®ï¼š

```
npm init -y
```

```
npm add -D webpack webpack-cli
```

```
npm run build
```

```
node dist/main.js
```

æ‰“åŒ…`html`

```
npm add -D html-webpack-plugin
```

æ·»åŠ `vue`

```
npm add vue
```

```
npm add -D webpack-dev-server
```

```
npm add -D style-loader css-loader
```

```
npm add -D less-loader
```

```
npm add -D less
```

```
npm add vue-router
```

```
npm add express
```

è·¯ç”±è¿™ä¸ªæ¦‚å¿µæ˜¯ç”±åç«¯å‡ºç°çš„ï¼Œé€šè¿‡æµè§ˆå™¨ä¸­`url`å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç›‘å¬åˆ°ç«¯å£æœ‰å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œè¿›è¡Œè§£æ`url`çš„è·¯å¾„ï¼Œæ ¹æ®æœåŠ¡å™¨çš„è·¯ç”±é…ç½®ï¼Œè¿”å›ç›¸åº”çš„ä¿¡æ¯ï¼Œæµè§ˆå™¨æ ¹æ®æ•°æ®åŒ…çš„`Content-Type`æ¥åˆ¤æ–­å¦‚ä½•è¿›è¡Œè§£æã€‚

è·¯ç”±æ—¶è·Ÿåç«¯æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„ä¸€ç§æ–¹å¼ï¼Œæ ¹æ®ä¸åŒçš„è·¯å¾„ï¼Œè¯·æ±‚ä¸åŒçš„èµ„æºã€‚

å®ç°åŸç†ï¼Œ`spa`å•ä¸€é¡µé¢åº”ç”¨ç¨‹åºï¼Œä¸€ä¸ªé¡µé¢å½“å®ƒåœ¨åŠ è½½é¡µé¢çš„æ—¶å€™ï¼Œä¸ä¼šåŠ è½½æ•´ä¸ªé¡µé¢çš„å†…å®¹ï¼Œåªä¼šæ›´æ–°æŒ‡å®šçš„æŸä¸ªå®¹å™¨ä¸­çš„å†…å®¹ã€‚

å•ä¸€é¡µé¢åº”ç”¨æ ¸å¿ƒï¼šæ›´æ–°è§†å›¾ä¸ä¼šé‡æ–°è¯·æ±‚é¡µé¢ï¼›`vue-router`åœ¨å®ç°å•é¡µé¢åº”ç”¨å‰ç«¯è·¯ç”±æ—¶ï¼Œæä¾›äº†ä¸‰ç§æ–¹å¼ï¼Œ`hash`æ¨¡å¼ï¼Œ`history`æ¨¡å¼ï¼Œ`abstract`æ¨¡å¼ã€‚

1. `hash`ï¼Œä¸ºä½¿ç”¨`URL hash`å€¼æ¥ä½œè·¯ç”±
2. `history`ï¼Œä¾èµ–`html5 history api`å’ŒæœåŠ¡å™¨é…ç½®
3. `abstract`ï¼Œæ”¯æŒæ‰€æœ‰`JavaScript`è¿è¡Œç¯å¢ƒ

> ä¸ºä»€ä¹ˆæœ‰äº†åç«¯è·¯ç”±ï¼Œè¿˜è¦å‰ç«¯è·¯ç”±å‘¢ï¼Ÿ

åç«¯è·¯ç”±æœ€ä¸å¥½ä¹‹å¤„åœ¨äºï¼šæ¯æ¬¡è·¯ç”±çš„åˆ‡æ¢éƒ½ä¼šå¯¼è‡´é¡µé¢åˆ·æ–°ï¼Œè¿™æ ·çš„ä½œé£å¯¹äºç”¨æˆ·ä½“éªŒæ¥è¯´ä¸å¤ªå‹å¥½ã€‚ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå°±æœ‰äº†å‰ç«¯è·¯ç”±ã€‚

å®ƒçš„å‡ºç°ï¼Œè®©æµè§ˆå™¨ä¸ä¼šé‡æ–°åˆ·æ–°äº†ã€‚

äº†è§£ä¸€ä¸‹ï¼š

1. `window.history.pushState()`ï¼Œåœ¨ä¼šè¯æµè§ˆå†å²è®°å½•ä¸­æ·»åŠ ä¸€æ¡è®°å½•ã€‚
2. `window.history.replaceState()`ï¼Œè¯¥æ–¹æ³•æ˜¯å°†ä¿®æ”¹ä¼šè¯æµè§ˆå†å²çš„å½“å‰è®°å½•ï¼Œæµè§ˆå†å²è®°å½•çš„æ€»é•¿åº¦æ²¡æœ‰å˜åŒ–ã€‚

è¿™ä¸¤ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜`url`ï¼Œé¡µé¢ä¹Ÿä¸ä¼šé‡æ–°åˆ·æ–°ã€‚

å½“æˆ‘ä»¬ä½¿ç”¨`hash`è·¯ç”±æ¨¡å¼ï¼Œæ¯æ¬¡`hash`å€¼å¾—æ”¹å˜ï¼Œä¼šè§¦å‘`hashchange`äº‹ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡ç›‘å¬è¯¥äº‹ä»¶æ¥åˆ¤æ–­`hash`å€¼æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ã€‚

`history`æ¨¡å¼ï¼Œåœ¨`window`å¯¹è±¡ä¸­æä¾›äº†`onpopstate`äº‹ä»¶æ¥ç›‘å¬å†å²æ ˆçš„æ”¹å˜ã€‚

å®‰è£…ä¾èµ–ï¼š

```
npm install vue-router
```

`main.js`

```
import router from './router';

new Vue({
 router: router,
 render: h => h(App),
})
```

#### äº†è§£JavaScript

1. `JavaScript`çš„å®šä¹‰ï¼šå®ƒæ˜¯ä¸€ç§å…·æœ‰ å‡½æ•°ä¼˜å…ˆï¼Œè½»é‡çº§ï¼Œè§£é‡Šå‹ï¼Œå³æ—¶ç¼–è¯‘å‹ çš„ç¼–ç¨‹è¯­è¨€ã€‚`JS`æ˜¯ä¸€ç§åŠ¨æ€çš„åŸºäºåŸå‹å’Œå¤šèŒƒå¼çš„è„šæœ¬è¯­è¨€ï¼Œæ”¯æŒé¢å‘å¯¹è±¡ï¼Œå‘½ä»¤å¼å’Œå‡½æ•°å¼çš„è¯­è¨€ã€‚
2. å®ƒæ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå‘½ä»¤å¼ç¼–ç¨‹ï¼Œå‡½æ•°å¼ç¼–ç¨‹ï¼Œå‡½æ•°å…ˆè¡Œçš„è¯­è¨€ï¼›å®ƒæä¾›äº†æ“ä½œæ–‡æœ¬ï¼Œæ•°ç»„ï¼Œæ—¥æœŸä»¥åŠæ­£åˆ™è¡¨è¾¾å¼ç­‰ã€‚
3. å˜é‡çš„å£°æ˜é€šå¸¸åœ¨å…¶ä½™çš„ä»£ç æ‰§è¡Œä¹‹å‰å®Œæˆ
4. å˜é‡çš„å£°æ˜ï¼Œæ— è®ºå‘ç”Ÿåœ¨å“ªé‡Œï¼Œéƒ½åœ¨æ‰§è¡Œä»»ä½•ä»£ç ä¹‹å‰è¿›è¡Œå¤„ç†ï¼Œç”¨varå£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å®ƒå½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ƒå¯ä»¥æ˜¯åµŒå¥—çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å£°æ˜åœ¨ä»»ä½•å‡½æ•°å¤–çš„å˜é‡ï¼Œå¦‚æœä½ é‡æ–°å£°æ˜ä¸€ä¸ªJavaScriptå˜é‡ï¼Œå®ƒå°†ä¸ä¼šä¸¢å¤±å…¶å€¼ã€‚
5. å°†èµ‹å€¼ç»™æœªå£°æ˜å˜é‡çš„å€¼åœ¨æ‰§è¡Œèµ‹å€¼æ—¶

ç¤ºä¾‹ï¼š
```
<script>
var pdada = document.querySelector('p');
pdada.addEventListener('click',updateName);
function updateName(){
    var name = prompt('è¾“å…¥ä¸€ä¸ªæ–°çš„åå­—');
    pdada.textContent = 'é­”ç‹å“ªå’-è¾¾è¾¾å‰ç«¯'
}

// onclick
document.querySelector('html').onclick=function() {};
```

å˜é‡çš„æè¿°ï¼šå£°æ˜å’Œæœªå£°æ˜å˜é‡ä¹‹é—´çš„åŒºåˆ«ï¼š

1. å£°æ˜å˜é‡çš„ä½œç”¨åŸŸé™åˆ¶åœ¨å…¶å£°æ˜ä½ç½®çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œè€Œéå£°æ˜å˜é‡æ€»æ˜¯å…¨å±€çš„ã€‚
2. å£°æ˜å˜é‡åœ¨ä»»ä½•ä»£ç æ‰§è¡Œå‰åˆ›å»ºï¼Œè€Œéå£°æ˜å˜é‡åªæœ‰åœ¨æ‰§è¡Œèµ‹å€¼æ“ä½œçš„æ—¶å€™æ‰ä¼šè¢«åˆ›å»ºã€‚
3. å£°æ˜å˜é‡æ˜¯å®ƒæ‰€åœ¨ä¸Šä¸‹æ–‡ç¯å¢ƒçš„ä¸å¯é…ç½®å±æ€§ï¼Œéå£°æ˜å˜é‡æ˜¯å¯é…ç½®çš„ã€‚

ç¤ºä¾‹ï¼š

```
console.log(dada); // æŠ›å‡ºReferenceError
console.log(é­”ç‹å“ªå’); // æ‰“å°â€œé­”ç‹å“ªå’â€
```

```
var a;
console.log(a); // æ‰“å°"undefined"æˆ–""ï¼ˆä¸åŒæµè§ˆå™¨å®ç°ä¸åŒï¼‰
console.log("é­”ç‹å“ªå’"); // é­”ç‹å“ªå’
```

```
var a = 1;
b = 2;
delete this.a; // ä¸¥æ ¼æ¨¡å¼ä¸‹æŠ›å‡ºé”™è¯¯
delete this.b;
console.log(a,b); // æŠ›å‡ºReferenceError
// bå±æ€§å·²ç»è¢«åˆ é™¤
```

> å»ºè®®å§‹ç»ˆå£°æ˜å˜é‡ï¼Œæ— è®ºå®ƒä»¬æ˜¯åœ¨å‡½æ•°è¿˜æ˜¯å…¨å±€ä½œç”¨åŸŸå†…ï¼Œåœ¨`ECMAScript5`ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆ†é…ç»™æœªå£°æ˜çš„å˜é‡ä¼šå¼•å‘é”™è¯¯ã€‚

ä»€ä¹ˆæ˜¯å˜é‡æå‡

ç”±äºå˜é‡å£°æ˜æ€»æ˜¯åœ¨ä»»æ„ä»£ç æ‰§è¡Œä¹‹å‰è¿›è¡Œå¤„ç†ï¼Œæ‰€ä»¥åœ¨ä»£ç ä¸­çš„ä»»æ„ä½ç½®å£°æ˜å˜é‡æ€»æ˜¯ç­‰æ•ˆäºåœ¨ä»£ç å¼€å¤´å£°æ˜ï¼Œå˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ã€‚

> æ‰€æœ‰çš„å˜é‡å£°æ˜ç§»åŠ¨åˆ°å‡½æ•°æˆ–è€…å…¨å±€ä»£ç çš„å¼€å¤´ä½ç½®ã€‚

æ‰€ä»¥å»ºè®®å§‹ç»ˆåœ¨ä½œç”¨åŸŸé¡¶éƒ¨å£°æ˜å˜é‡ï¼Œå³æ˜¯åœ¨å…¨å±€ä»£ç çš„é¡¶éƒ¨å’Œå‡½æ•°ä»£ç çš„é¡¶éƒ¨ï¼Œè¿™æ ·å¯ä»¥æ¸…æ™°åœ°çŸ¥é“å“ªäº›å˜é‡æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œå“ªäº›å˜é‡æ˜¯åœ¨ä½œç”¨åŸŸé“¾ä¸Šè§£å†³ã€‚

å¤šä¸ªå˜é‡çš„åˆå§‹åŒ–

```
var x=0;

function f(){
    var x=y=1; // xåœ¨å‡½æ•°å†…éƒ¨å£°æ˜ï¼Œyä¸æ˜¯
}
f();

console.log(x,y); // 0, 1
// xæ˜¯å…¨å±€å˜é‡
// yæ˜¯éšå¼å£°æ˜çš„å…¨å±€å˜é‡
```

éšå¼å…¨å±€å˜é‡å’Œå¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸ

```
// xæ˜¯å…¨å±€å˜é‡ï¼Œèµ‹å€¼ä¸º0
var x=0;
// undefinedï¼Œå› ä¸ºzè¿˜ä¸å­˜åœ¨
console.log(typeof z);

function a() { // å½“aè¢«è°ƒç”¨æ—¶
 var y = 2; // yè¢«å£°æ˜æˆå‡½æ•°a ä½œç”¨åŸŸçš„å˜é‡ï¼Œèµ‹å€¼ä¸º2
 console.log(x,y); // 0 2
 function b() {
     // å½“bè¢«è°ƒç”¨æ—¶
     x=3; // å…¨å±€å˜é‡xè¢«èµ‹å€¼ä¸º3,ä¸ç”Ÿæˆå…¨å±€å˜é‡
     y=4; // å·²ç»åœ¨çš„å¤–éƒ¨å‡½æ•°çš„yå˜é‡ è¢«èµ‹å€¼ä¸º4ï¼Œä¸ç”Ÿæˆæ–°çš„å…¨å±€å˜é‡
     z=5; // åˆ›å»ºæ–°çš„å…¨å±€å˜é‡zï¼Œå¹¶èµ‹å€¼ä¸º5
     // åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¼šæŠ›å‡ºReferenceError
 }
 b(); // è°ƒç”¨bæ—¶åˆ›å»ºäº†å…¨å±€å˜é‡z
 console.log(x,z); // 3,5
}

a(); // è°ƒç”¨aæ—¶åŒæ—¶è°ƒç”¨äº†b
console.log(x,z); // 3,5
console.log(typeof y); // undefined,å› ä¸ºyæ˜¯aå‡½æ•°çš„æœ¬åœ°å˜é‡
```

ä¼ªä»£ç ï¼Œå¾ªç¯è¿‡ç¨‹ï¼š

```
loop(foo=0, eatFood=10){
    if(foo = eatFood){
        exit loop;
    }else{
        foo+=2;
    }
}
```

åŸå‹é“¾ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¯¹è±¡ä»¥å…¶åŸå‹ä¸ºæ¨¡æ¿ï¼Œä»åŸå‹ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ã€‚åŸå‹å¯¹è±¡ä¹Ÿå¯ä»¥æ‹¥æœ‰åŸå‹ï¼Œå¹¶ä»ä¸­ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ï¼Œä¸€å±‚ä¸€å±‚ï¼Œä»¥æ­¤ç±»æ¨çš„è¿™ç§å…³ç³»è¢«ç§°ä¸ºåŸå‹é“¾ã€‚

æ¢å¥è¯è¯´ï¼Œè¿™äº›å±æ€§å’Œæ–¹æ³•æ˜¯å®šä¹‰åœ¨`Object`çš„æ„é€ å‡½æ•°ä¹‹ä¸Šçš„`prototype`å±æ€§ä¸Šï¼Œè€Œéå¯¹è±¡å®ä¾‹æœ¬èº«ã€‚

```
{
    constructor: Æ’ doSomething(),
    __proto__: {
        constructor: Æ’ Object(),
        hasOwnProperty: Æ’ hasOwnProperty(),
        isPrototypeOf: Æ’ isPrototypeOf(),
        propertyIsEnumerable: Æ’ propertyIsEnumerable(),
        toLocaleString: Æ’ toLocaleString(),
        toString: Æ’ toString(),
        valueOf: Æ’ valueOf()
    }
}
```

äº†è§£æŒæ¡ä»€ä¹ˆæ˜¯åŸå‹ï¼Œ`Prototype`å’Œ`__proto__`ï¼Œä»¥åŠåŸå‹é“¾

![](https://user-gold-cdn.xitu.io/2020/4/19/17191c3a51d41239?w=464&h=625&f=png&s=61013)

![](https://user-gold-cdn.xitu.io/2020/4/19/17191c6782e09548?w=477&h=437&f=png&s=45930)

![](https://user-gold-cdn.xitu.io/2020/4/19/17191cad4ba7d348?w=368&h=184&f=png&s=43292)

`create()`ï¼šä½¿ç”¨`Object.create()`æ–¹æ³•åˆ›å»ºæ–°çš„å¯¹è±¡å®ä¾‹ï¼š

```
// person1 ä¸ºåŸå‹å¯¹è±¡åˆ›å»ºäº†person2å¯¹è±¡
// person2.__proto__ ç»“æœè¿”å›å¯¹è±¡person1
var person2 = Object.create(person1);

// person2.__proto__ === person1
```

`create()`å®é™…ä¸Šæ˜¯ä»æŒ‡å®šåŸå‹å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚

> `constructor`å±æ€§

æ¯ä¸ªå®ä¾‹å¯¹è±¡éƒ½ä»åŸå‹ä¸­ç»§æ‰¿äº†ä¸€ä¸ª`constructor`å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘äº†ç”¨äºæ„é€ æ­¤å®ä¾‹å¯¹è±¡çš„æ„é€ å‡½æ•°ã€‚

```
person1.constructor
person2.constructor
```

éƒ½å°†è¿”å›`Person()`æ„é€ å™¨ï¼Œå› ä¸ºè¯¥æ„é€ å™¨åŒ…å«è¿™äº›å®ä¾‹çš„åŸå§‹å®šä¹‰ã€‚

æƒ³è¦è·å–æŸä¸ªå¯¹è±¡å®ä¾‹çš„æ„é€ å™¨çš„åå­—ï¼š

```
instanceName.constructor.name

// person1.constructor.name
```

åŸå‹å¼çš„ç»§æ‰¿

å®šä¹‰æ„é€ å™¨å‡½æ•°

```
function Person(first, last, age, gender, interests) {
    this.name = {
        first,
        last,
    };
    this.age = age;
    this.gender = gender;
    this.interests = interests;
}

Person.prototype.greeting = function(){
    console.log('hello'+this.name.first)
}

function dadaqianduan(first, last, age, gender, interests, subject) {
    Person.call(this, first, last, age, gender, interests);
    
    this.subject = subject;
}
```

#### Function.prototype.call()

`call()`æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå…·æœ‰ä¸€ä¸ªæŒ‡å®šçš„thiså€¼å’Œåˆ†åˆ«åœ°æä¾›çš„å‚æ•°ï¼ˆå‚æ•°çš„åˆ—è¡¨ï¼‰

è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å’Œapply()æ–¹æ³•ç±»ä¼¼ï¼Œåªæœ‰ä¸€ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯call()æ–¹æ³•æ¥æ”¶çš„æ˜¯è‹¥å¹²ä¸ªå‚æ•°çš„åˆ—è¡¨ï¼Œè€Œapply()æ–¹æ³•æ¥æ”¶çš„æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå‚æ•°çš„æ•°ç»„ã€‚

è¯­æ³•ï¼š

```
fun.call(thisArg, arg1, arg2, ...)
```

è¿”å›å€¼ï¼Œä½¿ç”¨è°ƒç”¨è€…æä¾›çš„thiså€¼å’Œå‚æ•°è°ƒç”¨è¯¥å‡½æ•°çš„è¿”å›å€¼ï¼Œè‹¥è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™è¿”å›`undefined`ã€‚

![](https://user-gold-cdn.xitu.io/2020/4/19/17192e713703f1fe?w=558&h=577&f=png&s=47028)

å›¾ä¸­çš„thisæŒ‡å‘äº†abcçš„ä½ç½®ã€‚

> ä»æ— å‚æ„é€ å‡½æ•°ç»§æ‰¿

ç¤ºä¾‹ï¼š

```
function dada(){
    this.width = 10;
    this.height = 20;
}

// æ— å‚æ„é€ å‡½æ•°ç»§æ‰¿

function da1() {
    dada.call(this);
    this.opacity = 0.5;
    this.color = 'blue';
}
```

```
var a = new da1()

a
```

![](https://user-gold-cdn.xitu.io/2020/4/19/17192f4e6c8418fa?w=205&h=105&f=png&s=15852)

è®¾ç½®åŸå‹å’Œæ„é€ å™¨çš„å¼•ç”¨

```
Teacher.prototype = Object.create(Person.prototype)
```

> ä»»ä½•ä½ æƒ³è¦è¢«ç»§æ‰¿çš„æ–¹æ³•éƒ½åº”è¯¥å®šä¹‰åœ¨æ„é€ å‡½æ•°çš„`prototype`å¯¹è±¡é‡Œï¼Œå¹¶ä¸”æ°¸è¿œä½¿ç”¨çˆ¶ç±»çš„`prototype`æ¥åˆ›é€ å­ç±»çš„`prototype`ï¼Œè¿™æ ·æ‰ä¸ä¼šæ‰“ä¹±ç±»ç»§æ‰¿ç»“æ„ã€‚

why is necessary to set the prototype constructor?

```
Student.prototype.coonstructor = Student;
```

ç¤ºä¾‹ï¼š

```
// define the Person Class
function Person(name) {
    this.name = name;
}

Person.prototype.copy = function() {
    // return new Person(this.name);
    return new this.constructor(this.name);
};

// define the Student class
function Student(name) {
    Person.call(this, name);
}

// inherit Person
Student.prototype = Object.create(Person.prototype);
```

```
var student1 = new Student("æ˜é‡‘");
console.log(student1.copy() instanceof Student); // false
```

æ·»åŠ ï¼š

```
Student.prototype.constructor = Student;

var student1 = new Student("æ˜é‡‘");
console.log(student1.copy() instanceof Student); // true
```

> ç»§æ‰¿

ç¤ºä¾‹ï¼š

```
Teacher.prototype = Object.create(Person.prototype)
Teacher.prototype.constructor = Teacher
```

> ä»€ä¹ˆæ˜¯JSON

![](https://user-gold-cdn.xitu.io/2020/4/20/171934b13cf1f012?w=522&h=107&f=png&s=35784)

å£°æ˜ï¼š

`var`ï¼šå£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¯é€‰åˆå§‹åŒ–ä¸€ä¸ªå€¼
`let`ï¼šå£°æ˜ä¸€ä¸ªå—ä½œç”¨åŸŸçš„å±€éƒ¨å˜é‡ï¼Œå¯é€‰åˆå§‹åŒ–ä¸€ä¸ªå€¼
`const`ï¼šå£°æ˜ä¸€ä¸ªå—ä½œç”¨åŸŸçš„åªè¯»å¸¸é‡

ä½¿ç”¨å˜é‡æ¥ä½œä¸ºå€¼çš„ç¬¦å·åï¼Œå˜é‡çš„åå­—åˆå«åšæ ‡è¯†ç¬¦ï¼Œå®ƒå¿…é¡»ä»¥å­—æ¯ï¼Œä¸‹åˆ’çº¿ï¼Œæˆ–è€…ç¾å…ƒç¬¦å·ï¼ˆ`$`ï¼‰å¼€å¤´ï¼›åç»­çš„å­—ç¬¦ä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€‚

> `labeled`è¯­å¥

ä¸€ä¸ª`label`æä¾›äº†ä¸€ä¸ªå¯ä»¥è®©ä½ å¼•ç”¨åˆ°æ‚¨ç¨‹åºåˆ«çš„ä½ç½®çš„æ ‡è¯†ç¬¦ã€‚

`for...in`è¯­å¥ï¼Œå¾ªç¯ä¸€ä¸ªæŒ‡å®šçš„å˜é‡æ¥å¾ªç¯ä¸€ä¸ªå¯¹è±¡æ‰€æœ‰å¯æšä¸¾çš„å±æ€§ã€‚

`for...of`å’Œ`for...in`ä¸¤ç§å¾ªç¯è¯­å¥ä¹‹é—´çš„åŒºåˆ«ï¼š

1. `for...in`å¾ªç¯éå†çš„ç»“æœæ˜¯æ•°ç»„å…ƒç´ çš„ä¸‹æ ‡
2. `for...of`éå†çš„ç»“æœæ˜¯å…ƒç´ çš„å€¼

å‡½æ•°å£°æ˜ï¼šä¸€ä¸ªå‡½æ•°å®šä¹‰ï¼Œä¹Ÿç§°ä¸ºå‡½æ•°å£°æ˜ï¼Œæˆ–å‡½æ•°è¯­å¥ï¼Œç”±ä¸€ç³»åˆ—çš„`function`å…³é”®å­—ç»„æˆã€‚

é€’å½’ï¼šä¸€ä¸ªå‡½æ•°å¯ä»¥æŒ‡å‘å¹¶è°ƒç”¨è‡ªèº«ã€‚

åµŒå¥—å‡½æ•°ï¼šä¸€ä¸ªå‡½æ•°é‡Œé¢åµŒå¥—å¦å¤–ä¸€ä¸ªå‡½æ•°ã€‚åµŒå¥—ï¼ˆå†…éƒ¨ï¼‰å‡½æ•°å¯¹å…¶å®¹å™¨ï¼ˆå¤–éƒ¨ï¼‰å‡½æ•°æ˜¯ç§æœ‰çš„ã€‚å®ƒè‡ªèº«å½¢æˆäº†ä¸€ä¸ªé—­åŒ…ã€‚å†…éƒ¨å‡½æ•°åŒ…å«å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸã€‚

å†…éƒ¨å‡½æ•°å½¢æˆäº†ä¸€ä¸ªé—­åŒ…ï¼Œå®ƒå¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å‚æ•°å’Œå˜é‡ï¼Œä½†æ˜¯å¤–éƒ¨å‡½æ•°å´ä¸èƒ½ä½¿ç”¨å®ƒçš„å‚æ•°å’Œå˜é‡ã€‚

å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸï¼Œå› æ­¤å½“å†…éƒ¨å‡½æ•°ç”Ÿå‘½å‘¨æœŸå¤§äºå¤–éƒ¨å‡½æ•°æ—¶ï¼Œå¤–éƒ¨å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡å’Œå‡½æ•°çš„ç”Ÿå‘½å‘¨æœŸæ¯”å†…éƒ¨å‡½æ•°æ‰§è¡Œæ—¶é—´é•¿æ‰è¡Œï¼Œå½“å†…éƒ¨å‡½æ•°è¢«é”€æ¯åï¼Œå¤–éƒ¨å‡½æ•°æ‰ä¼šè¢«é”€æ¯ã€‚

> ä½¿ç”¨`arguments`å¯¹è±¡

å‡½æ•°çš„å®é™…å‚æ•°è¢«ä¿å­˜åœ¨ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„`arguments`å¯¹è±¡ä¸­ã€‚

ç®­å¤´å‡½æ•°ç›¸æ¯”å‡½æ•°è¡¨è¾¾å¼å…·æœ‰è¾ƒçŸ­çš„è¯­æ³•å¹¶ä»¥è¯æ³•çš„æ–¹å¼ç»‘å®šthisã€‚

![](https://user-gold-cdn.xitu.io/2020/4/22/171a21663a29f20b?w=377&h=803&f=png&s=57509)

```
typeof(null)
// object

typeof({})
// object
```

è¡¨è¾¾å¼ï¼šä¸€ç»„ä»£ç çš„é›†åˆï¼Œå®ƒè¿”å›ä¸€ä¸ªå€¼ã€‚`this`å…³é”®å­—è¢«ç”¨äºæŒ‡ä»£å½“å‰çš„å¯¹è±¡ï¼Œé€šå¸¸ï¼Œ`this`æŒ‡ä»£çš„æ˜¯æ–¹æ³•ä¸­æ­£åœ¨è¢«è°ƒç”¨çš„å¯¹è±¡ã€‚

`split`é€šè¿‡å°†å­—ç¬¦ä¸²åˆ†ç¦»æˆä¸€ä¸ªä¸ªå­ä¸²æ¥æŠŠä¸€ä¸ªstringå¯¹è±¡åˆ†è£‚åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­ã€‚

`slice`ä»ä¸€ä¸ªå­—ç¬¦ä¸²æå–ç‰‡æ®µå¹¶ä½œä¸ºæ–°å­—ç¬¦ä¸²è¿”å›ã€‚

`substring`,`substr`ï¼Œåˆ†åˆ«é€šè¿‡æŒ‡å®šèµ·å§‹å’Œç»“æŸä½ç½®ï¼Œèµ·å§‹ä½ç½®å’Œé•¿åº¦æ¥è¿”å›å­—ç¬¦ä¸²çš„æŒ‡å®šå­é›†ã€‚

`match`,`replace`,`search`é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æ¥å·¥ä½œã€‚

`toLowerCase`,`toUpperCase`åˆ†åˆ«è¿”å›å­—ç¬¦ä¸²çš„å°å†™è¡¨ç¤ºå’Œå¤§å†™è¡¨ç¤ºã€‚

`normalize`æŒ‰ç…§æŒ‡å®šçš„ä¸€ç§`Unicode`æ­£è§„å½¢å¼å°†å½“å‰å­—ç¬¦ä¸²æ­£è§„åŒ–ã€‚

`repeat`ï¼Œå°†å­—ç¬¦ä¸²å†…å®¹é‡å¤æŒ‡å®šæ¬¡æ•°åè¿”å›ã€‚

`trim`ï¼Œå»æ‰å­—ç¬¦ä¸²å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½å­—ç¬¦ã€‚

#### æ­£åˆ™è¡¨è¾¾å¼

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼ã€‚åœ¨JavaScriptä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ã€‚

ä½¿ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ï¼š

```
const regex = /ab+c/;

const regex = /^[a-zA-Z]+[0-9]*\W?_$/gi;
```

æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¢«ç”¨äº`RegExp`çš„`exec`å’Œ`test`æ–¹æ³•ä»¥åŠ`String`çš„`match`ï¼Œ`replace`ï¼Œ`search`å’Œ`split`æ–¹æ³•ã€‚

`exec()`æ–¹æ³•åœ¨ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²ä¸­æ‰§è¡Œä¸€ä¸ªæœç´¢åŒ¹é…ï¼Œè¿”å›ä¸€ä¸ªç»“æœæ•°ç»„æˆ–`null`ã€‚

`test`ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æµ‹è¯•æ˜¯å¦åŒ¹é…çš„`RegExp`æ–¹æ³•ï¼Œå®ƒè¿”å›`true`æˆ–`false`ã€‚

`match`ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„`String`æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ•°ç»„æˆ–è€…æœªåŒ¹é…åˆ°æ—¶è¿”å›`null`ã€‚

`search`ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æµ‹è¯•åŒ¹é…çš„`String`æ–¹æ³•ï¼Œå®ƒè¿”å›åŒ¹é…åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œæˆ–è€…åœ¨å¤±è´¥æ—¶è¿”å›`-1`ã€‚

`replace`ä¸€ä¸ªåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡ŒæŸ¥æ‰¾åŒ¹é…çš„`String`æ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨æ›¿æ¢å­—ç¬¦ä¸²æ¢æ‰åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²ã€‚

#### å¦‚ä½•ä½¿ç”¨Promise

ä¸€ä¸ª`Promise`æ˜¯ä¸€ä¸ªä»£è¡¨å¼‚æ­¥æ“ä½œæœ€ç»ˆå®Œæˆæˆ–è€…å¤±è´¥çš„ç»“æœå¯¹è±¡ã€‚æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç»‘å®šäº†å›è°ƒçš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å°†å›è°ƒä¼ è¿›å‡½æ•°å†…éƒ¨ã€‚

ç¤ºä¾‹ï¼š

```
function wait(ms){
    return new Promise(function(resolve,reject){
        setTimeout(resolve,ms);
    })
}

console.log('å¼€å§‹')
wait(3000).then(()=>{
  console.log('123')  
})
```

ä¸€ä¸ª`Promise`æœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€ï¼š

`pending`ï¼šåˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ï¼›`fulfilled`ï¼šæ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆï¼›`rejected`ï¼šæ„å‘³ç€æ“ä½œå¤±è´¥ã€‚

`Promise`å¯¹è±¡æ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œè¢«ä»£ç†çš„å€¼åœ¨`Promise`å¯¹è±¡åˆ›å»ºæ—¶å¯èƒ½æ˜¯æœªçŸ¥çš„ã€‚å®ƒå…è®¸ä½ ä¸ºå¼‚æ­¥æ“ä½œçš„æˆåŠŸå’Œå¤±è´¥åˆ†åˆ«ç»‘å®šç›¸åº”çš„å¤„ç†æ–¹æ³•ã€‚

è®©å¼‚æ­¥æ–¹æ³•å¯ä»¥åƒåŒæ­¥æ–¹æ³•é‚£æ ·è¿”å›å€¼ï¼Œä½†å¹¶ä¸æ˜¯ç«‹å³è¿”å›æœ€ç»ˆæ‰§è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½ä»£è¡¨æœªæ¥å‡ºç°çš„ç»“æœçš„`promise`å¯¹è±¡ã€‚

å› ä¸º`Promise.prototype.then`å’Œ`Promise.prototype.catch`æ–¹æ³•è¿”å›`promise`å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥è¢«é“¾å¼è°ƒç”¨ã€‚

`Promise.all`æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„`promise`å¯¹è±¡ï¼Œè¯¥`promise`å¯¹è±¡åœ¨`iterable`å‚æ•°å¯¹è±¡é‡Œæ‰€æœ‰çš„`promise`å¯¹è±¡éƒ½æˆåŠŸçš„æ—¶å€™æ‰ä¼šè§¦å‘æˆåŠŸï¼Œä¸€æ—¦æœ‰ä»»ä½•ä¸€ä¸ª`iterable`é‡Œé¢çš„`promise`å¯¹è±¡å¤±è´¥åˆ™ç«‹å³è§¦å‘è¯¥`promise`å¯¹è±¡çš„å¤±è´¥ã€‚

ä¸€ä¸ªæ–°çš„`promise`å¯¹è±¡åœ¨è§¦å‘æˆåŠŸçŠ¶æ€åï¼Œä¼šæŠŠä¸€ä¸ªåŒ…å«`iterable`é‡Œæ‰€æœ‰`promise`è¿”å›å€¼çš„æ•°ç»„ä½œä¸ºæˆåŠŸå›è°ƒçš„è¿”å›å€¼ï¼Œé¡ºåºè·Ÿ`iterable`çš„é¡ºåºä¿æŒä¸€è‡´ï¼Œå¦‚æœè¿™ä¸ªæ–°çš„`promise`å¯¹è±¡è§¦å‘äº†å¤±è´¥çŠ¶æ€ï¼Œå®ƒä¼šæŠŠ`iterable`é‡Œç¬¬ä¸€ä¸ªè§¦å‘å¤±è´¥çš„`promise`å¯¹è±¡çš„é”™è¯¯ä¿¡æ¯ä½œä¸ºå®ƒçš„å¤±è´¥é”™è¯¯ä¿¡æ¯ã€‚

`Promise.race`å½“`iterable`å‚æ•°é‡Œçš„ä»»æ„ä¸€ä¸ªå­`promise`è¢«æˆåŠŸæˆ–å¤±è´¥åï¼Œçˆ¶`promise`é©¬ä¸Šä¹Ÿä¼šç”¨å­`promise`çš„æˆåŠŸè¿”å›å€¼æˆ–å¤±è´¥è¯¦æƒ…ä½œä¸ºå‚æ•°è°ƒç”¨çˆ¶`promise`ç»‘å®šçš„ç›¸åº”å¥æŸ„ï¼Œå¹¶è¿”å›è¯¥`promise`å¯¹è±¡ã€‚

#### JavaScriptä¸­çš„å¸¦é”®çš„é›†åˆ

ä¸€ä¸ª`Map`å¯¹è±¡å°±æ˜¯ä¸€ä¸ªç®€å•çš„é”®å€¼å¯¹æ˜ å°„é›†åˆï¼Œå¯ä»¥æŒ‰ç…§æ•°æ®æ’å…¥æ—¶çš„é¡ºåºéå†æ‰€æœ‰çš„å…ƒç´ ã€‚

#### JavaScriptä¸­çš„Objectå¯¹è±¡

æšä¸¾ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§

`for...in`å¾ªç¯ï¼Œè¯¥æ–¹æ³•ä¾æ¬¡è®¿é—®ä¸€ä¸ªå¯¹è±¡åŠå…¶åŸå‹é“¾ä¸­æ‰€æœ‰å¯æšä¸¾çš„å±æ€§ã€‚

`Object.keys(o)`ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡`o`è‡ªèº«åŒ…å«çš„æ‰€æœ‰å±æ€§çš„åç§°çš„æ•°ç»„ã€‚

`Object.getOwnPropertyName(o)`ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†å¯¹è±¡`o`æ‰€æœ‰æ‹¥æœ‰çš„å±æ€§çš„åç§°ã€‚

```
var arr = ["a", "b", "c"];
console.log(Object.getOwnPropertyNames(arr).sort());

// ç»“æœ
["0", "1", "2", "length"]

// ç±»æ•°ç»„å¯¹è±¡
var obj = { 0: "a", 1: "b", 2: "c" };
console.log(Object.getOwnPropertyNames(obj).sort());

// ç»“æœ
["0", "1", "2"]

// ä½¿ç”¨Array.forEachè¾“å‡ºå±æ€§åå’Œå±æ€§å€¼
Object.getOwnPropertyName(obj).forEach(function(val, idx, array) {
   console.log(val+"->"+obj[val]); 
});

// è¾“å‡º
0 -> a
1 -> b
2 -> c
```

#### JavaScriptä¸­çš„å†…å­˜ç®¡ç†

å†…å­˜ç”Ÿå‘½å‘¨æœŸï¼š

åˆ†é…ä½ æ‰€éœ€è¦çš„å†…å­˜ï¼Œä½¿ç”¨åˆ†é…çš„å†…å­˜ï¼Œåœ¨ä¸éœ€è¦æ—¶éœ€è¦å½’è¿˜é‡Šæ”¾å†…å­˜ã€‚


### Node.js

å­¦ä¹ Node.jsï¼Œéœ€è¦é¢„å¤‡çŸ¥è¯†ï¼Œhtmlï¼Œcssï¼Œjavascript,ç®€å•çš„å‘½ä»¤è¡Œæ“ä½œï¼Œå…·æœ‰æœåŠ¡ç«¯å¼€å‘ç»éªŒã€‚

1. node.jsä¸æ˜¯ä¸€é—¨è¯­è¨€
2. node.jsä¸æ˜¯åº“ï¼Œä¸æ˜¯æ¡†æ¶
3. Node.jsæ˜¯ä¸€ä¸ªJavaScriptè¿è¡Œæ—¶ç¯å¢ƒ
4. node.jså¯ä»¥è§£æå’Œæ‰§è¡ŒJavaScriptä»£ç 

node.jsä¸­çš„JavaScript

æ²¡æœ‰bom,domï¼Œæœ‰EcmaScriptï¼Œæä¾›é¢å¤–çš„api

node.jsèƒ½åš`web`æœåŠ¡å™¨åå°ï¼Œå‘½ä»¤è¡Œå·¥å…·

B/Sç¼–ç¨‹æ¨¡å‹ï¼š`Browser-Server`ï¼Œ`back-end`ã€‚æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œ`RequireJS`ï¼Œ`SeaJS`ï¼Œä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå°±æ˜¯å¯ä»¥åœ¨nodeä¸­å¯ä»¥åƒ`@import()`ä¸€æ ·æ¥å¼•ç”¨åŠ è½½JavaScriptè„šæœ¬æ–‡ä»¶ã€‚

å¼‚æ­¥ç¼–ç¨‹ï¼šå›è°ƒå‡½æ•°ï¼Œ`Promise`ï¼Œ`async`ï¼Œ`generator`

æ–‡ä»¶åä¸è¦ä½¿ç”¨`node.js`æ¥å‘½åï¼Œä¸è¦ä½¿ç”¨ä¸­æ–‡ã€‚åœ¨nodeä¸­ï¼Œé‡‡ç”¨`EcmaScript`è¿›è¡Œç¼–ç æ²¡æœ‰ï¼Œæ²¡æœ‰`Bom`ï¼Œ`Dom`ï¼Œå’Œæµè§ˆå™¨ä¸­çš„JavaScriptä¸ä¸€æ ·ã€‚

```
// fsæ˜¯ file-systemçš„ç®€å†™,å°±æ˜¯æ–‡ä»¶å¤¹ç³»ç»Ÿçš„æ„æ€
// åœ¨Nodeä¸­å¦‚æœæƒ³è¦è¿›è¡Œæ–‡ä»¶æ“ä½œ,å°±å¿…é¡»å¼•å…¥fsè¿™ä¸ªæ ¸å¿ƒæ¨¡å—
// åœ¨jsè¿™ä¸ªæ ¸å¿ƒæ¨¡å—ä¸­,å°±æä¾›äº†æ‰€æœ‰çš„æ–‡æœ¬æ“ä½œç›¸å…³çš„api
// fs.readFile å°±æ˜¯ç”¨æ¥è¯»å–æ–‡ä»¶çš„

// ä½¿ç”¨requireæ–¹æ³•åŠ è½½fsæ ¸å¿ƒæ¨¡å—
var fs = require('fs')

// è¯»å–æ–‡ä»¶
// ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯è¦è¯»å–çš„æ–‡ä»¶è·¯å¾„
// ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°
// error
// å¦‚æœè¯»å–å¤±è´¥,errorå°±æ˜¯é”™è¯¯å¯¹è±¡
// å¦‚æœè¯»å–æˆåŠŸ,errorå°±æ˜¯Null
// data
// å¦‚æœè¯»å–å¤±è´¥,errorå°±æ˜¯é”™è¯¯å¯¹è±¡
// å¦‚æœè¯»å–æˆåŠŸ,dataå°±æ˜¯è¯»å–åˆ°çš„æ•°æ®

// æˆåŠŸ
// data æ•°æ®
// error null
// å¤±è´¥
// data null
// error é”™è¯¯å¯¹è±¡

fs.readFile('./dada.txt', function(error, data){
	// æ–‡ä»¶ä¸­å­˜å‚¨çš„å…¶å®éƒ½æ˜¯äºŒè¿›åˆ¶æ•°æ®0æˆ–1
	// çœ‹åˆ°çš„æ˜¯äºŒè¿›åˆ¶è½¬16è¿›åˆ¶
	// toStringæ–¹æ³•
	console.log(data.toString())
})
```

```
var fs = require('fs')

// ç¬¬ä¸€ä¸ªå‚æ•°:æ–‡ä»¶è·¯å¾„
// ç¬¬äºŒä¸ªå‚æ•°:æ–‡ä»¶å†…å®¹
// ç¬¬ä¸‰ä¸ªå‚æ•°:å›è°ƒå‡½æ•°

// æˆåŠŸ
// æ–‡ä»¶å†™å…¥æˆåŠŸ,erroræ˜¯null
// å¤±è´¥
// æ–‡ä»¶å†™å…¥å¤±è´¥,erroræ˜¯é”™è¯¯å¯¹è±¡
fs.writeFile('./da.md', 'å¤§å®¶å¥½,æˆ‘æ˜¯è¾¾è¾¾å‰ç«¯', function(error){
	console.log('æ–‡ä»¶å†™å…¥æˆåŠŸ')
})
```

```
// http å¸®ä½ åˆ›å»ºæœåŠ¡å™¨

// åŠ è½½æ ¸å¿ƒæ¨¡å—
var http = require('http')

// ä½¿ç”¨http.createServer()æ–¹æ³•åˆ›å»ºä¸€ä¸ªwebæœåŠ¡å™¨

// è¿”å›ä¸€ä¸ªserverå®ä¾‹
var server = http.createServer()

// æœåŠ¡å™¨æä¾›æœåŠ¡:å¯¹æ•°æ®çš„æœåŠ¡
// å‘è¯·æ±‚
// æ¥æ”¶è¯·æ±‚
// å¤„ç†è¯·æ±‚
// ç»™ä¸ªåé¦ˆ

// æ³¨å†Œ å½“å®¢æˆ·ç«¯è¯·æ±‚è¿‡æ¥,å°±ä¼šè‡ªåŠ¨è§¦å‘æœåŠ¡å™¨çš„requestè¯·æ±‚äº‹ä»¶
// ç„¶åæ‰§è¡Œç¬¬äºŒä¸ªå‚æ•°
// å›åˆ°å¤„ç†å‡½æ•°

// requestè¯·æ±‚äº‹ä»¶å¤„ç†å‡½æ•°,éœ€è¦æ¥æ”¶ä¸¤ä¸ªå‚æ•°:
// Request è¯·æ±‚å¯¹è±¡
// è¯·æ±‚å¯¹è±¡å¯ä»¥ç”¨æ¥è·å–å®¢æˆ·ç«¯çš„ä¸€äº›è¯·æ±‚ä¿¡æ¯,ä¾‹å¦‚è¯·æ±‚è·¯å¾„
// Response å“åº”å¯¹è±¡
// 
server.on('request', function(request, response){
	console.log('æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚äº†'+request.url)
	
	// response å¯¹è±¡æœ‰ä¸€ä¸ªæ–¹æ³•
	// write ç”¨æ¥ç»™å®¢æˆ·ç«¯å‘é€å“åº”æ•°æ®
	// write å¯ä»¥ä½¿ç”¨å¤šæ¬¡
	// æœ€åä¸€å®šä¸€å®šè¦ä½¿ç”¨endæ¥ç»“æŸå“åº”
	// å¦åˆ™å®¢æˆ·ç«¯ä¼šä¸€ç›´ç­‰å¾…
	response.write('dada')
	response.write('æ˜é‡‘é­”ç‹å“ªå’')
	response.end()
})

// ç»‘å®šç«¯å£å· å¯åŠ¨æœåŠ¡å™¨
server.listen(3000, function(){
	console.log('æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ')
})
```

> node.jsæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ˜¯JavaScriptè¿è¡Œæ—¶ï¼Œä¸æ˜¯è¯­è¨€ï¼Œæ¡†æ¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¹³å°ï¼Œæ²¡æœ‰BOMï¼ŒDOMã€‚EcmaScriptåŸºæœ¬çš„JavaScriptè¯­è¨€éƒ¨åˆ†ï¼Œåœ¨Node.jsä¸­ä¸ºJavaScriptæä¾›äº†ä¸€äº›æœåŠ¡å™¨çº§åˆ«çš„`api`ï¼Œæ–‡ä»¶æ“ä½œçš„èƒ½åŠ›ï¼Œ`http`æœåŠ¡çš„èƒ½åŠ›ã€‚

```
var http = require('http')

// åˆ›å»ºserver
var server = http.createServer()

// ç›‘å¬request è¯·æ±‚äº‹ä»¶,è®¾ç½®è¯·æ±‚å¤„ç†å‡½æ•°
server.on('request',function(req,res){
	console.log('æ”¶åˆ°è¯·æ±‚'+req.url)
	
	res.end('è¾¾è¾¾å‰ç«¯,é­”ç‹å“ªå’-æ˜é‡‘')
	
	// æ ¹æ®ä¸åŒçš„è¯·æ±‚è·¯å¾„å‘é€ä¸åŒçš„å“åº”ç»“æœ
	// è·å–è¯·æ±‚è·¯å¾„
	// åˆ¤æ–­è·¯å¾„å“åº”
	
	// res.end() å“åº”å†…å®¹å¿…é¡»æ˜¯å­—ç¬¦ä¸²,æˆ–äºŒè¿›åˆ¶æ•°æ®
	// res.end(JSON.stringify())
	
	var url = req.url
	
	if(url === '/') {
		res.end('index')
	}else if(url === '/login') {
		res.end('login page')
	}else {
		res.end('404 not found')
	}
	
})

// ç»‘å®šç«¯å£å·,å¯åŠ¨æœåŠ¡
server.listen(80,function(){
	console.log('æœåŠ¡å™¨å¯åŠ¨')
})
```

æ ¸å¿ƒæ¨¡å—ï¼š

nodeä¸ºJavaScriptæä¾›äº†å¾ˆå¤šæœåŠ¡å™¨çº§åˆ«çš„apiï¼Œè¿™äº›apiç»å¤§éƒ¨åˆ†åŒ…è£…åˆ°äº†ä¸€ä¸ªå…·åçš„æ ¸å¿ƒæ¨¡å—ä¸­ã€‚

fsæ ¸å¿ƒæ¨¡å—æ–‡ä»¶æ“ä½œï¼ŒhttpæœåŠ¡å™¨æ„å»ºçš„httpæ¨¡å—ï¼Œpathè·¯å¾„æ“ä½œæ¨¡å—ç­‰ã€‚

åœ¨nodeä¸­ï¼Œæ²¡æœ‰å…¨å±€ä½œç”¨åŸŸï¼Œåªæœ‰æ¨¡å—ä½œç”¨åŸŸï¼Œå¤–éƒ¨è®¿é—®ä¸åˆ°å†…éƒ¨ï¼Œå†…éƒ¨ä¹Ÿè®¿é—®ä¸åˆ°å¤–éƒ¨ã€‚

`require`æ–¹æ³•æœ‰ä¸¤ä¸ªä½œç”¨ï¼š

1. åŠ è½½æ–‡ä»¶æ¨¡å—å¹¶æ‰§è¡Œé‡Œé¢çš„ä»£ç 
2. æ‹¿åˆ°è¢«åŠ è½½æ–‡ä»¶æ¨¡å—å¯¼å‡ºçš„æ¥å£å¯¹è±¡

æ¯ä¸ªæ–‡ä»¶æ¨¡å—ä¸­æä¾›äº†ä¸€ä¸ªå¯¹è±¡ï¼š`exports`
`exports` é»˜è®¤æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡

```
var ret = request('./b')

// console.log(ret)
console.log(ret.foo)

console.log(ret.add(1,2))
```

```
var foo = 'è¾¾è¾¾å‰ç«¯'
// console.log(exports)
exports.foo = 'hello'

exports.add = function(x,y) {
    return x+y
}
```

webæœåŠ¡å™¨å¼€å‘ï¼š

ipåœ°å€æ˜¯ç”¨æ¥å®šä½è®¡ç®—æœºï¼Œç«¯å£å·ç”¨æ¥å®šä½å…·ä½“çš„åº”ç”¨ç¨‹åºï¼Œæ‰€æœ‰éœ€è¦è”ç½‘é€šä¿¡çš„è½¯ä»¶éƒ½ä¼šå ç”¨ä¸€ä¸ªç«¯å£å·ï¼Œç«¯å£å·çš„èŒƒå›´ä»0-65536ä¹‹é—´ï¼Œåœ¨è®¡ç®—æœºä¸­æœ‰ä¸€äº›é»˜è®¤ç«¯å£å·ï¼Œå»ºè®®ä¸è¦å»ä½¿ç”¨ã€‚

å“åº”å†…å®¹ç±»å‹ï¼š`Content-type`

```
var http = require('http')

var server = http.createServer()

server.on('request', function(req, res){
	// è§£å†³ç¼–ç é—®é¢˜
	// res.setHeader('Content-Type','text/plain;charset=urf-8')
	// res.end('dadaqianduan')
	
	var url = req.url
	// text/plain æ™®é€šæ–‡æœ¬
	if(url === '/plain'){
		res.setHeader('Content-Type', 'text/plain;charset=utf-8')
		res.end('dadaqianduan')
	}else if(url === '/html'){
		res.setHeader('Content-Type', 'text/html;charset=utf-8')
		res.end('<p>dadaqianduan</p>')
	}
	
})

server.listen(3000, function(){
	console.log('server is runing...')
})
```

```
var http = require('http')
var fs = require('fs')

var server = http.createServer()

server.on('request', function(req, res){
	var url = req.url
	if(url === '/'){
		fs.readFile('./resource/index.html', function(err,data){
			if(err){
				res.setHeader('Content-Type','text/plain;charset=utf-8')
				res.end('æ–‡ä»¶è¯»å–å¤±è´¥,è¯·ç¨åé‡è¯•')
			}else{
				// dataé»˜è®¤æ˜¯äºŒè¿›åˆ¶æ•°æ®
				// toStringè½¬ä¸ºå­—ç¬¦ä¸²
				
				// å›¾ç‰‡èµ„æºä¸è¦æŒ‡å®šç¼–ç 
				// res.setHeader('Content-Type','image/jpeg')
				res.end(data)
			}
		})
	}
})

server.listen(3000, function(){
	
})

// url ç»Ÿä¸€èµ„æºå®šä½ç¬¦
```

![](https://user-gold-cdn.xitu.io/2020/4/29/171c627623db9b27?w=906&h=761&f=png&s=67204)

é€šè¿‡ç½‘ç»œå‘é€æ–‡ä»¶

å‘é€çš„å¹¶ä¸æ˜¯æ–‡ä»¶ï¼Œæœ¬è´¨ä¸Šæ˜¯å‘é€æ–‡ä»¶çš„å†…å®¹ï¼›å½“æµè§ˆå™¨æ”¶åˆ°æœåŠ¡å™¨å“åº”å†…å®¹ä¹‹åï¼Œå°±ä¼šæ ¹æ®ä½ çš„`Content-Type`è¿›è¡Œå¯¹åº”çš„è§£æå¤„ç†ã€‚

#### æœåŠ¡å™¨æ¸²æŸ“å’Œå®¢æˆ·ç«¯æ¸²æŸ“çš„åŒºåˆ«

1. å®¢æˆ·ç«¯æ¸²æŸ“ä¸åˆ©äºSEOæœç´¢å¼•æ“ä¼˜åŒ–
2. æœåŠ¡ç«¯æ¸²æŸ“å¯ä»¥è¢«æŠ“å–åˆ°ï¼Œå®¢æˆ·ç«¯å¼‚æ­¥æ¸²æŸ“å°±å¾ˆéš¾è·å–åˆ°
3. çœŸæ­£çš„ç½‘ç«™æ—¢ä¸æ˜¯çº¯å¼‚æ­¥ä¹Ÿä¸æ˜¯çº¯æœåŠ¡æ¸²æŸ“

#### ipåœ°å€å’Œç«¯å£å·

æ‰€æœ‰è”ç½‘çš„ç¨‹åºéƒ½éœ€è¦è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œè®¡ç®—æœºåªæœ‰ä¸€ä¸ªç‰©ç†ç½‘å¡ï¼Œè€Œä¸”åŒä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œç½‘å¡çš„åœ°å€å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚

ç½‘å¡æ˜¯é€šè¿‡å”¯ä¸€çš„ipåœ°å€æ¥è¿›è¡Œå®šä½çš„ã€‚ç«¯å£å·ç”¨æ¥å®šä½å…·ä½“çš„åº”ç”¨ç¨‹åºï¼Œæ‰€æœ‰éœ€è¦è”ç½‘é€šä¿¡çš„åº”ç”¨ç¨‹åºéƒ½ä¼šå ç”¨ä¸€ä¸ªç«¯å£å·ã€‚ç«¯å£å·çš„èŒƒå›´0åˆ°65536ä¹‹é—´ã€‚

#### JavaScriptæ€ç»´å¯¼å›¾

![](https://user-gold-cdn.xitu.io/2020/4/30/171c824d6dea0ad8?w=1165&h=252&f=png&s=39110)

![](https://user-gold-cdn.xitu.io/2020/4/30/171c82a4f9129bbe?w=1003&h=677&f=png&s=86534)

![](https://user-gold-cdn.xitu.io/2020/4/30/171c8319fab2dc24?w=902&h=225&f=png&s=31162)

![](https://user-gold-cdn.xitu.io/2020/4/30/171c83d6b672ae85?w=1062&h=492&f=png&s=69975)

![](https://user-gold-cdn.xitu.io/2020/4/30/171c864a0fc64cb1?w=1055&h=672&f=png&s=74669)

![](https://user-gold-cdn.xitu.io/2020/4/30/171c8722882a4edd?w=1184&h=624&f=png&s=76280)

![](https://user-gold-cdn.xitu.io/2020/4/30/171c8898a7e66315?w=1400&h=643&f=png&s=104148)

![](https://user-gold-cdn.xitu.io/2020/5/1/171cdb7067e714d5?w=1410&h=430&f=png&s=65132)

![](https://user-gold-cdn.xitu.io/2020/5/1/171cdd3ddcb4acac?w=853&h=559&f=png&s=67203)

![](https://user-gold-cdn.xitu.io/2020/5/1/171ce127d7e6a6cc?w=888&h=483&f=png&s=60400)

![](https://user-gold-cdn.xitu.io/2020/5/1/171ce29dc78e7d1b?w=1059&h=621&f=png&s=97537)

![](https://user-gold-cdn.xitu.io/2020/5/1/171cf67cf0d6798e?w=830&h=182&f=png&s=19896)

![](https://user-gold-cdn.xitu.io/2020/5/2/171d4c446571ddc0?w=288&h=330&f=png&s=11231)

![](https://user-gold-cdn.xitu.io/2020/5/2/171d5e4e7d0cb057?w=1259&h=757&f=png&s=119487)

![](https://user-gold-cdn.xitu.io/2020/5/3/171d8fe1eaaff809?w=1215&h=733&f=png&s=139461)

![](https://user-gold-cdn.xitu.io/2020/5/3/171da06b8d955c86?w=1190&h=814&f=png&s=101344)

![](https://user-gold-cdn.xitu.io/2020/5/3/171da813a4717181?w=1256&h=609&f=png&s=94800)

![](https://user-gold-cdn.xitu.io/2020/5/4/171dc9ea28d20b75?w=1061&h=718&f=png&s=94214)

![](https://user-gold-cdn.xitu.io/2020/5/4/171dce098e11b089?w=1082&h=636&f=png&s=98812)

![](https://user-gold-cdn.xitu.io/2020/5/4/171dd8a2fe213d0c)

![](https://user-gold-cdn.xitu.io/2020/5/4/171de08ca677e84f?w=1090&h=701&f=png&s=119873)

![](https://user-gold-cdn.xitu.io/2020/5/4/171debdb3ca7b617?w=984&h=599&f=png&s=99038)

![](https://user-gold-cdn.xitu.io/2020/5/4/171dfd0aedc87c1c?w=1013&h=700&f=png&s=129459)

![](https://user-gold-cdn.xitu.io/2020/5/5/171e1c4994b159fe?w=836&h=809&f=png&s=71778)

![](https://user-gold-cdn.xitu.io/2020/5/5/171e1ec5b7f90d33?w=786&h=712&f=png&s=73166)

![](https://user-gold-cdn.xitu.io/2020/5/5/171e1f8189824632?w=963&h=685&f=png&s=77035)

![](https://user-gold-cdn.xitu.io/2020/5/5/171e20db9039b9c2?w=1366&h=709&f=png&s=117814)

![](https://user-gold-cdn.xitu.io/2020/5/5/171e238607479a22?w=966&h=736&f=png&s=88308)

![](https://user-gold-cdn.xitu.io/2020/5/6/171e6f05242be6cc?w=1140&h=758&f=png&s=108537)

![](https://user-gold-cdn.xitu.io/2020/5/6/171e722862f98bfa?w=1082&h=679&f=png&s=88790)

![](https://user-gold-cdn.xitu.io/2020/5/6/171e72a4c6db6a08?w=995&h=595&f=png&s=76051)

![](https://user-gold-cdn.xitu.io/2020/5/6/171e7365d2db2182?w=1229&h=782&f=png&s=101442)

![](https://user-gold-cdn.xitu.io/2020/5/6/171e73b820f7d7e2?w=970&h=708&f=png&s=71060)

![](https://user-gold-cdn.xitu.io/2020/5/6/171e76823774581d?w=1195&h=551&f=png&s=81151)

![](https://user-gold-cdn.xitu.io/2020/5/7/171ec18b47b3ad2a?w=1177&h=809&f=png&s=117561)

![](https://user-gold-cdn.xitu.io/2020/5/7/171ec2478606f4bf?w=1141&h=798&f=png&s=103707)

![](https://user-gold-cdn.xitu.io/2020/5/7/171ec2f6e7443071?w=1071&h=734&f=png&s=98871)

![](https://user-gold-cdn.xitu.io/2020/5/7/171ec49679903f37?w=1222&h=774&f=png&s=114883)

![](https://user-gold-cdn.xitu.io/2020/5/7/171ec78414e5c2d9?w=1250&h=822&f=png&s=132648)

![](https://user-gold-cdn.xitu.io/2020/5/7/171ec84fcc839c08?w=574&h=438&f=png&s=34786)

![](https://user-gold-cdn.xitu.io/2020/5/7/171efd3389e6d80d?w=1322&h=695&f=png&s=106910)

![](https://user-gold-cdn.xitu.io/2020/5/8/171f176aa0dcbc07?w=1505&h=773&f=png&s=103472)

![](https://user-gold-cdn.xitu.io/2020/5/8/171f1a47208773e9?w=554&h=445&f=png&s=41377)

![](https://user-gold-cdn.xitu.io/2020/5/8/171f1b44cc2ccdbc?w=1288&h=832&f=png&s=125432)

![](https://user-gold-cdn.xitu.io/2020/5/9/171f6bd5ba3cf9f3?w=528&h=550&f=png&s=51204)

![](https://user-gold-cdn.xitu.io/2020/5/9/171f6d4ee49eb749?w=1392&h=760&f=png&s=127402)

![](https://user-gold-cdn.xitu.io/2020/5/9/171f6e52842bb48f?w=1269&h=793&f=png&s=94223)

![](https://user-gold-cdn.xitu.io/2020/5/11/17200c623499cff2?w=1425&h=656&f=png&s=94650)

![](https://user-gold-cdn.xitu.io/2020/5/12/172061be9b74d765?w=1088&h=741&f=png&s=86880)

æ›´åŠ æ·±å…¥JavaScriptç­‰å¾…ä¸‹ä¸€ç¯‡æ€»ç»“ã€‚

### 3. ä¸ªäººæ”¶é›†å¤§å‚é¢è¯•é¢˜åº“ï¼ˆå«ç­”æ¡ˆï¼‰

interview-answe 1+1ï¼šç›®å½•

https://github.com/webVueBlog/interview-answe

### 4. é¢è¯•æ—¶çš„å°æŠ€å·§

é¢è¯•è€ƒå¯Ÿç‚¹ï¼š

1. åŸºç¡€éƒ¨åˆ†ï¼Œéœ€è¦æŒæ¡åŸºç¡€æŠ€æœ¯ç‚¹ï¼Œåº“å’Œæ¡†æ¶
2. ç»éªŒéƒ¨åˆ†ï¼Œå¦‚åšè¿‡ä»€ä¹ˆé¡¹ç›®ï¼Œé¡¹ç›®ä¸­è§£å†³äº†ä»€ä¹ˆæ ¸å¿ƒé—®é¢˜ï¼›é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‰åç«¯å¤šä¸ªè§’è‰²æ˜¯å¦‚ä½•é…åˆçš„ï¼›å¤šäººå¦‚ä½•åˆä½œå¼€å‘ï¼›é’ˆå¯¹ä½ çš„å·¥ä½œåšè¿‡çš„å¦‚ä½•æ€è€ƒï¼Œé¡¹ç›®ï¼Œå›¢é˜Ÿï¼Œè‡ªèº«å„ä¸ªæ–¹é¢éƒ½å¯ä»¥è¿›è¡Œè°ˆè®º
3. æ€è·¯éƒ¨åˆ†ï¼Œæ¡†æ¶é€‚ç”¨çš„åœºæ™¯ï¼Œè®¾è®¡æŸä¸ªæŠ€æœ¯åœºæ™¯çš„è§£å†³æ–¹æ¡ˆ
4. é¢è¯•éƒ¨åˆ†ï¼Œä¸€è½®ï¼Œè€å¤§é¢ï¼Œè€ƒå…³æ³¨ç»¼åˆèƒ½åŠ›ï¼ŒäºŒè½®ï¼ŒæŠ€æœ¯æ€»ç›‘ï¼Œå…³æ³¨ç®—æ³•å’Œç»¼åˆèƒ½åŠ›ï¼Œä¸‰è½®ï¼Œhrå°†å…¬å¸çš„å¥½ç­‰

å¯¹äºç®€å†ï¼šä¸è¦åˆ—ä¸¾å¤ªå¤šï¼Œä¸€èˆ¬ä¸¤é¡µå°±å¤Ÿï¼Œå¼ºè°ƒç‰¹æ®ŠæŠ€èƒ½ï¼Œç®¡ç†ï¼Œè·¨ç«¯ï¼Œå…¨æ ˆï¼Œåšçš„é‡è¦é¡¹ç›®ï¼Œæ ¸å¿ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œé™„åŠ githubæˆ–è€…ç½‘ç«™ç­‰ã€‚

é¢è¯•å‡†å¤‡ï¼Œå°†æœ€è¿‘æœ€è¿‘åšè¿‡çš„é‡è¦çš„æŠ€æœ¯ç‚¹æ¢³ç†ä¸€ä¸‹ï¼Œèƒ½è¿‡æ¸…æ™°è¯´å‡ºæ•´ä½“çš„æ¶æ„å’Œæ€è€ƒæ”¹è¿›ï¼Œå¸¸è§é—®é¢˜å¤ä¹ ä¸€ä¸‹ï¼Œä¸å¿…å…¨é¢ï¼Œä½†è¦é‡è¦ï¼Œå‡†å¤‡é—®é¢˜ç•™ç€é—®é¢è¯•å®˜ã€‚

é¢è¯•æ—¶ï¼Œè¦æ²‰ç€å†·é™ï¼Œä¸è¦æƒ³å¤ªå¤šï¼Œå°±äº‹è®ºäº‹ï¼Œè®©é¢è¯•å®˜å¬ä½ è®²ã€‚æŒæ¡ä¸»åŠ¨æƒï¼Œå¾ˆå¤šé—®é¢˜å¹¶æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œæ‰€ä»¥å°½é‡ç­”å°±è¡Œï¼Œè€ƒå®˜çš„è€ƒå¯Ÿç‚¹å¯èƒ½å¹¶ä¸æ˜¯é—®é¢˜æœ¬èº«ã€‚

### 5. æ•´ç†çš„çŸ¥è¯†ä½“ç³»

ã€ suggestion ğŸ‘ ã€‘ from 0 to 1 web front-end

web-0-1ç›®å½•

![](https://user-gold-cdn.xitu.io/2020/5/15/17215ab45115c78c?w=1011&h=732&f=png&s=92709)

https://github.com/webVueBlog/web-0-1

### 6. å¯¹äºæœ‰é¢è¯•éœ€æ±‚çš„æœ‹å‹ï¼Œæ‰€æä¾›çš„å¸®åŠ©

ä¼˜ç§€çš„å·¥ç¨‹å¸ˆï¼Œæœ‰å¥½å¥‡å¿ƒï¼Œå­¦ä¹ èƒ½åŠ›ï¼Œåˆ†æè§£å†³é—®é¢˜çš„æ–¹å¼å’Œèƒ½åŠ›ã€‚

åˆ©ç”¨æŠ€æœ¯è§£å†³ç”Ÿæ´»ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæœ‰è‡ªå·±çš„å°ä½œå“ï¼Œä¸“æ æˆ–è€…å­¦ä¹ æ€»ç»“ï¼Œå¯¹æŠ€æœ¯æŠ•å…¥å¤§é‡çš„æ—¶é—´ç­‰ã€‚

çœ‹ä¹¦ï¼Œè¾¹çœ‹è¾¹å†™ï¼Œæ¨¡ä»¿å®ç°ï¼Œå­¦ä¹ æµè¡Œçš„å¼€å‘æ¡†æ¶

ç”¨æ¡†æ¶å¼€å‘å°åº”ç”¨ï¼Œå¼€å‘é¡¹ç›®ç­‰

æ·±å…¥äº†è§£å„ç§æ¡†æ¶è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼Œè§£å†³å¤šäººå¼€å‘é—®é¢˜ï¼Œå·¥ç¨‹åŒ–

æ·±å…¥jsåº•å±‚ï¼Œäº†è§£å„ç§æ¡†æ¶çš„æ ¸å¿ƒæœºåˆ¶ï¼Œæ¶æ„å¸ˆ

æ›´å¤šç²¾å½©å†…å®¹ï¼šhttp://www.dadaqianduan.cn/#/

### 7. å‚è€ƒæ–‡çŒ®

MDN:https://developer.mozilla.org/

ç»´åŸºç™¾ç§‘:https://zh.wikipedia.org/

JavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬3ç‰ˆï¼‰

![](https://user-gold-cdn.xitu.io/2020/5/15/17215abea98ec350?w=900&h=500&f=png&s=211339)