> æŠŠä½ çš„å‰ç«¯æ‹¿æå¾—æ­»æ­»çš„ï¼Œæ¯å¤©å­¦ä¹ å¾—çˆ½çˆ½çš„ï¼Œè¾¾è¾¾å‰ç«¯ç¨‹åºå‘˜ï¼Œå¾®ä¿¡æœç´¢ã€ç¨‹åºå‘˜å“†å•¦Aæ¢¦ã€‘å…³æ³¨è¿™ä¸ªä¸ä¸€æ ·çš„ç¨‹åºå‘˜ã€‚
>
> æ„Ÿè°¢ä¸è´Ÿæ¯ä¸€ä»½çƒ­çˆ±å‰ç«¯çš„ç¨‹åºå‘˜ï¼Œä¸è®ºå‰ç«¯æŠ€èƒ½æœ‰å¤šå¥‡è‘©ï¼Œæ¬¢è¿å…³æ³¨åŠ æˆ‘å…¥ç¾¤vx:xiaoda0423


# å‰è¨€

ä½œä¸ºä¸€ååœ¨èŒå²—ä½ä¸ºã€å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆã€‘çš„ç¨‹åºå‘˜ï¼Œæˆ‘å¼€å‘çš„åº”ç”¨ç¨‹åºç»å¸¸éœ€è¦è·å–ç”¨æˆ·ä½ç½®ä¿¡æ¯ï¼Œéœ€è¦å†æŸäº›åœºåˆä¸‹ä½¿ç”¨å±•ç¤ºåœ°å›¾ä»¥åŠåœ°å›¾å•†çš„æŸäº›åœ°ç‚¹ï¼Œéœ€è¦è·å–è¡Œæ”¿åŒºåˆ’åˆ—è¡¨ï¼ˆçœå¸‚åŒºï¼‰ä»¥åŠåœ°å€è¯¦æƒ…ä¿¡æ¯ï¼Œéœ€è¦åœ¨åœ°å›¾ä¸Šè§„åˆ’ä¸€æ¡ï¼ˆåŠ¨æ€ï¼‰è·¯çº¿ï¼Œè½¨è¿¹å›æ”¾ï¼Œå°è½¦ç§»åŠ¨ï¼Œéœ€è¦åˆ›å»ºä¿¡æ¯çª—å£ï¼Œç”¨äºåœ°ç‚¹çš„æ‘˜è¦æ€§ä¿¡æ¯çš„å±•ç¤ºã€‚

å…¬å¸å†…åšçš„æ˜¯å…±äº«é¡¹ç›®ï¼Œ åœºæ™¯æ˜¯è¿™æ ·çš„ï¼Œä¸€ç§å¸¸è§å…±äº«å……ç”µå®ï¼ˆåŠŸèƒ½å·®ä¸å¤šå’Œæµè¡Œçš„å…±äº«å•è½¦ä¸€æ ·ï¼‰ï¼Œåœ¨åšå°ç¨‹åºé¦–é¡µæ—¶ï¼Œéœ€è¦åšåˆ°çš„æ˜¯æ‰«ç å……ç”µï¼Œè”ç³»å®¢æœï¼ˆé—®é¢˜åé¦ˆï¼‰ï¼Œè·å–åœ°ç†ä½ç½®ï¼Œå¼€ç¯‡å³æ˜¯ä¸€å‰¯åœ°ç†ä½ç½®ï¼Œåœ¨ä½ é™„è¿‘è·å–åˆ°åŒºåŸŸå†…åº—é“ºä¿¡æ¯ï¼Œç‚¹å‡»è¯¥åº—çš„logoæ ‡å¿—å¯ä»¥è·å–è¯¥åº—çš„åœ°ç†ä½ç½®ï¼Œè¥ä¸šæ—¶é—´ï¼Œåº—åï¼Œè·ç¦»ï¼Œæ˜¯å¦å½“å‰è¯¥åº—é‡Œæ˜¯å¦æœ‰å¯å€Ÿçš„å……ç”µå®ç­‰ä¿¡æ¯ã€‚

å…±äº«å……ç”µç”µåŠ¨è½¦ğŸš—ï¼Œé¦–é¡µä¹Ÿæ˜¯ä¸€å‰¯åœ°ç†ä½ç½®åœ°å›¾ï¼Œå¯ä»¥è·å–ä½ é™„è¿‘æœ€è¿‘çš„å…±äº«ç”µåŠ¨è½¦ï¼Œè·å–è½¦çš„åœ°å€ï¼ŒçŠ¶æ€ç­‰ä¿¡æ¯ã€‚æ˜¾ç¤ºè¯¥è½¦çš„å‰©ä½™ç”µé‡ï¼Œä½¿ç”¨è®°å½•ï¼Œç§Ÿå€Ÿè®¢å•ï¼Œè·å–è¡Œç¨‹è½¨è¿¹ï¼ŒæŸæ—¶é—´æ®µå†…çš„é‡Œç¨‹ï¼ŒåŠ¨æ€æ˜¾ç¤ºè½¨è¿¹ç­‰ã€‚

æ¶‰åŠåˆ°çš„å…±äº«å…¶å®å†…å®¹å¾ˆå¤šï¼ˆå¦‚é™¤äº†ç”µåŠ¨è½¦ï¼Œå……ç”µå®ï¼Œè¿˜å¯ç§Ÿå€Ÿè®¾å¤‡ç­‰ï¼‰ï¼Œä½†å¤§éƒ½åŠŸèƒ½å‡ ä¹ç›¸åŒï¼Œéœ€è¦äº¤æŠ¼é‡‘ï¼Œç§Ÿå€Ÿè´¹ç”¨ï¼Œä¿¡ç”¨å…æŠ¼é‡‘ç­‰ã€‚å¼€å‘è¿‡appï¼ŒH5ï¼Œwebç½‘ç«™ï¼Œå°ç¨‹åºé¡¹ç›®éƒ½ä¸åœ°å›¾ç›¸å…³çš„ä½ç½®æœåŠ¡æ¯æ¯ç›¸å…³ï¼Œè®©æˆ‘è¯´è¯´ä¸ä½ç½®æœåŠ¡æœ‰å…³çš„æ•…äº‹ã€‚

ä¸‹é¢ä¸»è¦è¿˜æ˜¯è®²è§£å…¶ä¸­çš„å…³äº**åœ°å›¾åŠŸèƒ½**ç­‰åŠŸèƒ½ï¼Œä½¿ç”¨çš„ä¹Ÿæ˜¯è…¾è®¯ä½ç½®å¼€å‘æœåŠ¡ã€‚ä¼šä¸€æ­¥ä¸€æ­¥è¯´æ˜ï¼Œåšä¸€äº›æ¡ˆä¾‹å±•ç¤ºï¼Œä»£ç è¯´æ˜ï¼Œä½¿ç”¨æ•™ç¨‹ã€‚ï¼ˆ**æ³¨æ„è¿™é‡Œæˆ‘å›å»çœ‹å¼€å‘æ•™ç¨‹ï¼Œå°½é‡æŠŠæ¯ä¸ªåŠŸèƒ½éƒ½ç†Ÿæ‚‰åœ°è¯´æ˜ä¸€ä¸‹ä½¿ç”¨æ–¹æ³•**ï¼‰

# ä¸€ã€è…¾è®¯ä½ç½®æœåŠ¡æ˜¯ä»€ä¹ˆï¼Ÿ

è…¾è®¯ä½ç½®æœåŠ¡æ— ç–‘æ˜¯è·å–ä½ç½®æœåŠ¡ç­‰ä¿¡æ¯å†…å®¹ï¼Œè¯¥äº§å“äº®ç‚¹ï¼š

1. **å®šä½**ï¼šä¸ºåˆä½œä¼™ä¼´å’Œå¹¿å¤§å¼€å‘è€…æä¾›å®Œå–„çš„ä½ç½®è§£å†³æ–¹æ¡ˆï¼Œå·²ä¸ºç¤¾äº¤ã€å‡ºè¡Œã€æ¸¸æˆã€å•†ä¸šã€O2Oã€ç‰©æµç­‰é¢†åŸŸæä¾›ä¸“ä¸šç²¾å‡†çš„å®šä½æœåŠ¡
2. **åœ°å›¾**ï¼šè…¾è®¯ä½ç½®æœåŠ¡åœ¨å¤šå¹³å°ä¸ºå¼€å‘è€…æä¾›äº†ä¸°å¯Œçš„åœ°å›¾å±•ç°å½¢å¼ï¼Œå¸®åŠ©ä»å±äºä¸åŒé¢†åŸŸçš„å¼€å‘äººå‘˜è½»æ¾å®Œæˆæ„å»ºåœ°å›¾å¹¶åœ¨å…¶åŸºç¡€ä¸Šæ‰“é€ ä¸“å±å†…å®¹çš„å·¥ä½œã€‚åŒæ—¶é…åˆæµ·é‡æ•°æ®ã€ä¸ªæ€§åŒ–å®šåˆ¶ã€å¯è§†åŒ–ç­‰èƒ½åŠ›æ»¡è¶³å„ä¸ªè¡Œä¸šåœºæ™¯ä¸‹å¯¹åœ°å›¾çš„éœ€æ±‚
3. **åœ°ç‚¹æœç´¢**ï¼šåŸºäºæµ·é‡é²œæ´»åœ°ç‚¹(POI)æ•°æ®ï¼Œæä¾›å‘¨è¾¹æœç´¢ï¼ŒåŸå¸‚èŒƒå›´æœç´¢ï¼Œå…³é”®è¯è¾“å…¥æç¤ºã€åˆ†ç±»ç­›é€‰ç­‰å¤šç§æœç´¢èƒ½åŠ›ï¼Œé¢å‘ç¤¾äº¤ã€ç‰©æµã€å‡ºè¡Œç­‰è¡Œä¸šæ‰“é€ ä¸“å±æœç´¢ç­–ç•¥ï¼Œä½“éªŒæ›´èƒœä¸€ç­¹
4. **è·¯çº¿è§„åˆ’**ï¼šæ ¹æ®å‡ºå‘åœ°ã€ç›®çš„åœ°ä»¥åŠè·¯çº¿ç­–ç•¥è®¾ç½®ï¼Œç»“åˆç²¾å‡†çš„å®æ—¶äº¤é€šè·¯å†µæä¾›é©¾è½¦ã€æ­¥è¡Œã€éª‘è¡Œã€å…¬äº¤è·¯çº¿è§„åˆ’èƒ½åŠ›ï¼ŒåŠ©åŠ›å¼€å‘è€…ä¸ºç”¨æˆ·æä¾›è´´å¿ƒã€äººæ€§åŒ–çš„å‡ºè¡Œä½“éªŒ
5. **å¾®ä¿¡å°ç¨‹åºè§£å†³æ–¹æ¡ˆ**ï¼šè…¾è®¯ä½ç½®æœåŠ¡å…¨é¢æ‹¥æŠ±å°ç¨‹åºç”Ÿæ€ï¼Œä»æœåŠ¡APIã€åŸºç¡€åœ°å›¾ç»„ä»¶ã€æ’ä»¶ã€è¡Œä¸šæ–¹æ¡ˆç­‰å¤šä¸ªå±‚é¢æœåŠ¡ä¸åŒåœºæ™¯éœ€æ±‚çš„å°ç¨‹åºå¼€å‘è€…ï¼ŒåŠ©åŠ›å°ç¨‹åºæ’ä¸Šåœ°å›¾çš„â€œç¿…è†€â€ï¼
6. **ä¸ªæ€§åŒ–åœ°å›¾**ï¼šä¸ªæ€§åŒ–æ ·å¼ï¼šåƒè¡Œåƒé¢ï¼ŒåŠ©åŠ›å¼€å‘è€…æ ¹æ®è‡ªèº«äº§å“çš„ä½¿ç”¨åœºæ™¯ã€ç•Œé¢è‰²è°ƒï¼Œ é€‰å–æˆ–è€…åˆ›å»ºé£æ ¼åŒ¹é…çš„åœ°å›¾æ ·å¼ï¼Œä½“éªŒæ›´èƒœä¸€ç­¹ï¼›ä¸ªæ€§åŒ–å›¾å±‚ï¼šçœŸå®é…·ç‚«ï¼ŒåŠ©åŠ›å¼€å‘è€…å°†ç²¾ç¾ç»˜å›¾ç”Ÿæˆåœ°å›¾ç“¦ç‰‡å¹¶ç½®äºåœ°å›¾ä¹‹ä¸Šï¼Œè®©æ—…æ¸¸æ™¯ç‚¹ã€å¤§å­¦é«˜æ ¡ç­‰åŒºåŸŸçš„å±•ç¤ºæ•ˆæœä¸ä¼—ä¸åŒ

# äºŒã€ä½¿ç”¨æ­¥éª¤

## 1.uniappå¼€å‘mapè¯´æ˜

> ä½¿ç”¨uniappæ˜¯å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªä½¿ç”¨vue.jså¼€å‘æ‰€æœ‰å‰ç«¯åº”ç”¨çš„æ¡†æ¶ï¼Œå¼€å‘è€…ç¼–å†™ä¸€å¥—ä»£ç ï¼Œå¯ä»¥å‘å¸ƒåˆ°iosï¼Œandroidï¼Œwebä»¥åŠå„ç§å°ç¨‹åºï¼Œå¿«åº”ç”¨ç­‰å¤šä¸ªå¹³å°ã€‚

ä½¿ç”¨`map`åœ°å›¾ç»„ä»¶å¼€å‘ï¼Œåœ°å›¾ç»„ä»¶ç”¨äºå±•ç¤ºåœ°å›¾ï¼ˆä½¿ç”¨çš„æ—¶è…¾è®¯åœ°å›¾ï¼‰ï¼Œè¯´ä¸€ä¸‹å®ƒçš„å±æ€§æœ‰ï¼š

`longitude`ï¼ˆç±»å‹ä¸º`Number`ï¼Œæ²¡æœ‰é»˜è®¤å€¼ï¼Œè¡¨ç¤ºä¸­å¿ƒç»åº¦ï¼‰
`latitude`ï¼ˆç±»å‹ä¸º`Number`ï¼Œæ²¡æœ‰é»˜è®¤å€¼ï¼Œè¡¨ç¤ºä¸­å¿ƒçº¬åº¦ï¼‰
`scale`ï¼ˆç±»å‹ä¸º`Number`ï¼Œé»˜è®¤å€¼ä¸º16ï¼Œç¼©æ”¾çº§åˆ«å–å€¼èŒƒå›´ä¸º5-18ï¼‰
`markers`ï¼ˆç±»å‹ä¸º`Array`æ•°ç»„ï¼Œç±»å‹ä¸ºæ•°ç»„å³è¡¨ç¤ºåœ°å›¾ä¸Šå¯ä»¥æœ‰å¤šä¸ªï¼Œæ²¡æœ‰é»˜è®¤å€¼ï¼Œè¡¨ç¤ºæ ‡è®°ç‚¹ï¼‰
`polyline`ï¼ˆç±»å‹ä¸º`Array`æ•°ç»„ï¼Œæ²¡æœ‰é»˜è®¤å€¼ï¼Œè¡¨ç¤ºè·¯çº¿ï¼Œæ•°ç»„ä¸Šçš„æ‰€æœ‰ç‚¹è¿æˆçº¿ï¼‰
`circles`ï¼ˆç±»å‹`Array`æ•°ç»„ï¼Œè¡¨ç¤ºåœ†ï¼‰
`controls`ï¼ˆç±»å‹`Array`æ•°ç»„ï¼Œè¡¨ç¤ºæ§ä»¶ï¼‰
`include-points`ï¼ˆç±»å‹`Array`æ•°ç»„ï¼Œè¡¨ç¤ºç¼©æ”¾è§†é‡å·²åŒ…å«æ‰€æœ‰ç»™å®šçš„åæ ‡ç‚¹ï¼‰
`enable-3D`ï¼ˆç±»å‹ä¸º`Boolean`ï¼Œé»˜è®¤å€¼ä¸ºfalseï¼Œè¡¨ç¤ºæ˜¯å¦æ˜¾ç¤º3Dæ‚å—ï¼‰
`show-compass`ï¼ˆç±»å‹ä¸º`Boolean`ï¼Œé»˜è®¤å€¼ä¸ºfalseï¼Œè¡¨ç¤ºä¸ºæ˜¯å¦æ˜¾ç¤ºæŒ‡å—é’ˆï¼‰
`enable-overlooking`ï¼ˆç±»å‹ä¸º`Boolean`ï¼Œé»˜è®¤å€¼ä¸ºfalseï¼Œè¡¨ç¤ºä¸ºæ˜¯å¦å¼€å¯ä¿¯è§†ï¼‰
`enable-satellite`ï¼ˆç±»å‹ä¸º`Boolean`ï¼Œé»˜è®¤å€¼ä¸ºfalseï¼Œè¡¨ç¤ºä¸ºæ˜¯å¦å¼€å¯å«æ˜Ÿå›¾ï¼‰
`enable-traffic`ï¼ˆç±»å‹ä¸º`Boolean`ï¼Œé»˜è®¤å€¼ä¸ºfalseï¼Œè¡¨ç¤ºä¸ºæ˜¯å¦å¼€å¯å®æ—¶è·¯å†µï¼‰
`show-location`ï¼ˆç±»å‹ä¸º`Boolean`ï¼Œè¡¨ç¤ºæ˜¾ç¤ºå¸¦æœ‰æ–¹å‘çš„å½“å‰å®šä½ç‚¹ï¼‰
`polygons`ï¼ˆç±»å‹`Array`ï¼Œè¡¨ç¤ºä¸ºå¤šè¾¹å½¢ï¼‰

ç‚¹å‡»å±æ€§

1. `@markertap`-è¡¨ç¤ºç‚¹å‡»æ ‡è®°ç‚¹æ—¶è§¦å‘ï¼Œ`e.detail={markerId}`
2. `@labeltap`-è¡¨ç¤ºç‚¹å‡»`label`æ—¶è§¦å‘ï¼Œ`e.detail = {markerId}`
3. `@callouttap`-è¡¨ç¤ºç‚¹å‡»æ ‡è®°ç‚¹å¯¹åº”çš„æ°”æ³¡æ—¶è§¦å‘ï¼Œ`e.detail = {markerId}`
4. `@controltap`-è¡¨ç¤ºç‚¹å‡»æ§ä»¶æ—¶è§¦å‘ï¼Œ`e.detail = {controlId}`
5. `@regionchange`-è¡¨ç¤ºè§†é‡å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘
6. `@tap`-è¡¨ç¤ºç‚¹å‡»åœ°å›¾æ—¶è§¦å‘; `App-nuve`ã€å¾®ä¿¡å°ç¨‹åº2.9æ”¯æŒè¿”å›ç»çº¬åº¦
7. `@updated`-è¡¨ç¤ºåœ¨åœ°å›¾æ¸²æŸ“æ›´æ–°å®Œæˆæ—¶è§¦å‘

> æˆ‘ä»¬åœ¨å†™`map`ç»„ä»¶æ—¶ï¼Œç»„ä»¶çš„å®½/é«˜æ¨èå†™ç›´æ¥é‡ï¼Œæ¯”å¦‚è¯´æ˜¯ `750rpx`ï¼Œä¸è¦è®¾ç½®ç™¾åˆ†æ¯”å€¼ï¼Œåœ¨`uni-app`ä¸­åªæ”¯æŒ`gcj02`åæ ‡ã€‚

### ä»‹ç»markerså±æ€§-ç±»å‹ä¸ºæ•°ç»„Array

ç”±ä¹‹å‰æè¿°å¯çŸ¥ï¼Œmarkerså±æ€§ç±»å‹ä¸ºArrayï¼Œè¡¨ç¤ºæ ‡è®°ç‚¹ç”¨äºåœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºæ ‡è®°çš„ä½ç½®ã€‚è¿™ä¸ªæ•°ç»„å±æ€§ï¼Œå®ƒé‡Œé¢æœ‰å®ƒçš„å¯¹è±¡é…ç½®å±æ€§ï¼Œåˆ†åˆ«æ˜¯ï¼š

1. `id`ï¼Œè¡¨ç¤º æ ‡è®°ç‚¹`id`ï¼Œç±»å‹ä¸º`Number`ï¼Œå¿…å¡«é¡¹ï¼Œ`marker`ç‚¹å‡»äº‹ä»¶å›è°ƒä¼šè¿”å›æ­¤`id`ï¼Œå»ºè®®ä¸ºæ¯ä¸ª`marker`è®¾ç½®ä¸Š`Number`ç±»å‹`id`ï¼Œä¿è¯æ›´æ–°`marker`æ—¶æœ‰æ›´å¥½çš„æ€§èƒ½ã€‚
2. `latitude`ï¼Œçº¬åº¦ï¼Œç±»å‹`Number`ï¼Œå¿…å¡«é¡¹ï¼Œæµ®ç‚¹æ•°ï¼ŒèŒƒå›´ `-90 ~ 90`
3. `longitude`ï¼Œç»åº¦ï¼Œç±»å‹`Number`ï¼Œå¿…å¡«é¡¹ï¼Œæµ®ç‚¹æ•°ï¼ŒèŒƒå›´ `-180 ~ 180`
4. `title`ï¼Œæ ‡æ³¨ç‚¹åï¼Œç±»å‹`String`ï¼Œä¸æ˜¯å¿…å¡«ï¼Œç‚¹å‡»æ—¶æ˜¾ç¤ºï¼Œ`callout`å­˜åœ¨æ—¶å°†è¢«å¿½ç•¥
5. `iconPath`ï¼Œæ˜¾ç¤ºçš„å›¾æ ‡ï¼Œç±»å‹`String`ï¼Œå¿…å¡«é¡¹ï¼Œé¡¹ç›®ç›®å½•ä¸‹çš„å›¾ç‰‡è·¯å¾„
6. `rotate`ï¼Œæ—‹è½¬è§’åº¦ï¼Œç±»å‹`Number`ï¼Œä¸æ˜¯å¿…å¡«ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬çš„è§’åº¦ï¼ŒèŒƒå›´ `0 ~ 360`ï¼Œé»˜è®¤ä¸º 0
7. `alpha`ï¼Œæ ‡æ³¨çš„é€æ˜åº¦ï¼Œç±»å‹`Number`ï¼Œä¸æ˜¯å¿…å¡«ï¼Œé»˜è®¤1ï¼Œæ— é€æ˜ï¼ŒèŒƒå›´ `0 ~ 1`
8. `width`ï¼Œæ ‡æ³¨å›¾æ ‡å®½åº¦ï¼Œç±»å‹`Number`ï¼Œä¸æ˜¯å¿…å¡«ï¼Œé»˜è®¤ä¸ºå›¾ç‰‡å®é™…å®½åº¦
9. `height`ï¼Œæ ‡æ³¨å›¾æ ‡é«˜åº¦ï¼Œç±»å‹`Number`ï¼Œä¸æ˜¯å¿…å¡«ï¼Œé»˜è®¤ä¸ºå›¾ç‰‡å®é™…é«˜åº¦
10. `callout`ï¼Œè‡ªå®šä¹‰æ ‡è®°ç‚¹ä¸Šæ–¹çš„æ°”æ³¡çª—å£ï¼Œç±»å‹`Object`ï¼Œä¸æ˜¯å¿…å¡« - å¯è¯†åˆ«æ¢è¡Œç¬¦
11. `label`ï¼Œä¸ºæ ‡è®°ç‚¹æ—è¾¹å¢åŠ æ ‡ç­¾ï¼Œç±»å‹`Object`ï¼Œä¸æ˜¯å¿…å¡« - å¯è¯†åˆ«æ¢è¡Œç¬¦
12. `anchor`ï¼Œç»çº¬åº¦åœ¨æ ‡æ³¨å›¾æ ‡çš„é”šç‚¹ï¼Œé»˜è®¤åº•è¾¹ä¸­ç‚¹ï¼Œä¸æ˜¯å¿…å¡«ï¼Œ`{x, y}ï¼Œxè¡¨ç¤ºæ¨ªå‘(0-1)ï¼Œyè¡¨ç¤ºç«–å‘(0-1)ã€‚{x: .5, y: 1} è¡¨ç¤ºåº•è¾¹ä¸­ç‚¹`

#### marker ä¸Šçš„æ°”æ³¡ calloutï¼ˆObjectç±»å‹ï¼‰

`marker`æ•°ç»„ ä¸Šå±æ€§ `callout` å¯¹è±¡ä½¿ç”¨å±æ€§ï¼š

1. `content`ï¼Œæ–‡æœ¬ï¼Œ`String`
2. `color`ï¼Œæ–‡æœ¬é¢œè‰²ï¼Œ`String`
3. `fontSize`ï¼Œæ–‡å­—å¤§å°ï¼Œ`Number`
4. `borderRadius`ï¼Œ`callout`è¾¹æ¡†åœ†è§’ï¼Œ`Number`
5. `bgColor`ï¼ŒèƒŒæ™¯è‰²ï¼Œ`String`
6. `padding`ï¼Œæ–‡æœ¬è¾¹ç¼˜ç•™ç™½ï¼Œ`Number`
7. `display`ï¼Œ`'BYCLICK':ç‚¹å‡»æ˜¾ç¤º; 'ALWAYS':å¸¸æ˜¾`ï¼Œ`String`
8. `textAlign`ï¼Œæ–‡æœ¬å¯¹é½æ–¹å¼ã€‚æœ‰æ•ˆå€¼: `left, right, center`ï¼Œ`String`

#### marker ä¸Šçš„æ ‡ç­¾ labelï¼ˆObjectç±»å‹ï¼‰

1. `content`ï¼Œæ–‡æœ¬ï¼Œ`String`
2. `color`ï¼Œæ–‡æœ¬é¢œè‰²ï¼Œ`String`
3. `fontSize`ï¼Œæ–‡å­—å¤§å°ï¼Œ`Number`
4. xï¼Œlabelçš„åæ ‡ï¼ŒåŸç‚¹æ˜¯ `marker` å¯¹åº”çš„ç»çº¬åº¦ï¼Œ`Number`	
5. yï¼Œlabelçš„åæ ‡ï¼ŒåŸç‚¹æ˜¯ `marker` å¯¹åº”çš„ç»çº¬åº¦ï¼Œ`Number`
6. borderWidthï¼Œè¾¹æ¡†å®½åº¦ï¼ŒNumber
7. borderColorï¼Œè¾¹æ¡†é¢œè‰²ï¼ŒString
8. borderRadiusï¼Œè¾¹æ¡†åœ†è§’ï¼ŒNumber
9. bgColorï¼ŒèƒŒæ™¯è‰²ï¼ŒString
10. paddingï¼Œæ–‡æœ¬è¾¹ç¼˜ç•™ç™½ï¼ŒNumber
11. textAlignï¼Œæ–‡æœ¬å¯¹é½æ–¹å¼ã€‚æœ‰æ•ˆå€¼: `left, right, center`ï¼ŒString

#### polyline

`polyline`è¡¨ç¤ºæŒ‡å®šä¸€ç³»åˆ—åæ ‡ç‚¹ï¼Œä»æ•°ç»„ç¬¬ä¸€é¡¹è¿çº¿è‡³æœ€åä¸€é¡¹

1. `points`ï¼Œç»çº¬åº¦æ•°ç»„ï¼Œç±»å‹ä¸º`Array`ï¼Œå¿…å¡«ï¼Œå¦‚ï¼š`[{latitude: 0, longitude: 0}]`
2. `color`ï¼Œçº¿çš„é¢œè‰²ï¼Œç±»å‹ä¸º`String`ï¼Œä¸å¿…å¡«ï¼Œå¦‚ï¼š`#0000AA`
3. `width`ï¼Œçº¿çš„å®½åº¦ï¼Œç±»å‹ä¸º`Number`ï¼Œä¸å¿…å¡«
4. `dottedLine`ï¼Œæ˜¯å¦è™šçº¿ï¼Œç±»å‹ä¸º`Boolean`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤å€¼`false`
5. `arrowLine`ï¼Œå¸¦ç®­å¤´çš„çº¿ï¼Œç±»å‹ä¸º`Boolean`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤å€¼ä¸º`false`
6. `arrowIconPath`ï¼Œæ›´æ¢ç®­å¤´å›¾æ ‡ï¼Œç±»å‹ä¸º`String`ï¼Œä¸å¿…å¡«ï¼Œåœ¨`arrowLine`ä¸º`true`æ—¶ï¼Œé»˜è®¤å¸¦ç®­å¤´çš„çº¿æ—¶ç”Ÿæ•ˆ
7. `borderColor`ï¼Œçº¿çš„è¾¹æ¡†é¢œè‰²ï¼Œç±»å‹ä¸º`String`ï¼Œä¸å¿…å¡«
8. `borderWidth`ï¼Œçº¿çš„åšåº¦ï¼Œç±»å‹ä¸º`Number`ï¼Œä¸å¿…å¡«

#### polygon

`polygon`æŒ‡å®šä¸€ç³»åˆ—åæ ‡ç‚¹ï¼Œæ ¹æ®`points`åæ ‡æ•°æ®ç”Ÿæˆé—­åˆå¤šè¾¹å½¢

1. `points`ï¼Œç»çº¬åº¦æ•°ç»„ï¼Œ`array`ï¼Œå¿…å¡«ï¼Œå¦‚ï¼š`[{latitude: 0, longitude: 0}]`
2. `strokeWidth`ï¼Œæè¾¹çš„å®½åº¦ï¼Œ`Number`ï¼Œå¦	
3. `strokeColor`	æè¾¹çš„é¢œè‰²ï¼Œ`String`ï¼Œå¦
4. `fillColor`ï¼Œå¡«å……é¢œè‰²ï¼Œ`String`ï¼Œå¦
5. `zIndex`ï¼Œè®¾ç½®å¤šè¾¹å½¢ `Z` è½´æ•°å€¼ï¼Œ`Number`ï¼Œå¦

#### circles

`circles`åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºåœ†

 1. `latitude`ï¼Œçº¬åº¦ï¼Œ`Number`ï¼Œå¿…å¡«ï¼Œæµ®ç‚¹æ•°ï¼ŒèŒƒå›´ `-90 ~ 90` 	
 2. `longitude`ï¼Œç»åº¦ï¼Œ`Number`ï¼Œå¿…å¡«ï¼Œæµ®ç‚¹æ•°ï¼ŒèŒƒå›´`-180 ~ 180` 
 3. `color`ï¼Œæè¾¹çš„é¢œè‰²ï¼Œ`String`ï¼Œä¸å¿…å¡«ï¼Œå¦‚ï¼š`#0000AA` 
 4. `fillColor`ï¼Œå¡«å……é¢œè‰²ï¼Œ`String`ï¼Œä¸å¿…å¡«ï¼Œå¦‚ï¼š`#0000AA`
 5. `radius`ï¼ŒåŠå¾„ï¼Œ`Number`ï¼Œå¿…å¡«
 6. `strokeWidth`ï¼Œæè¾¹çš„å®½åº¦ï¼Œ`Number`ï¼Œä¸å¿…å¡«

#### controls

`controls`åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºæ§ä»¶ï¼Œæ§ä»¶ä¸éšç€åœ°å›¾ç§»åŠ¨

1. `id`ï¼Œæ§ä»¶`id`ï¼Œ`Number`ï¼Œä¸å¿…å¡«ï¼Œåœ¨æ§ä»¶ç‚¹å‡»äº‹ä»¶å›è°ƒä¼šè¿”å›æ­¤id
2. `position`ï¼Œæ§ä»¶åœ¨åœ°å›¾çš„ä½ç½®ï¼Œ`Object`ï¼Œå¿…å¡«ï¼Œæ§ä»¶ç›¸å¯¹åœ°å›¾ä½ç½®
3. `iconPath`ï¼Œæ˜¾ç¤ºçš„å›¾æ ‡ï¼Œ`String`ï¼Œå¿…å¡«ï¼Œé¡¹ç›®ç›®å½•ä¸‹çš„å›¾ç‰‡è·¯å¾„ï¼Œæ”¯æŒç›¸å¯¹è·¯å¾„å†™æ³•ï¼Œä»¥`'/'`å¼€å¤´åˆ™è¡¨ç¤ºç›¸å¯¹é¡¹ç›®æ ¹ç›®å½•ï¼›ä¹Ÿæ”¯æŒä¸´æ—¶è·¯å¾„
4. `clickable`ï¼Œæ˜¯å¦å¯ç‚¹å‡»ï¼Œ`Boolean`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤ä¸å¯ç‚¹å‡»

#### position

1. `left`ï¼Œè·ç¦»åœ°å›¾çš„å·¦è¾¹ç•Œå¤šè¿œï¼Œ`Number`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤ä¸º0
2. `top`ï¼Œè·ç¦»åœ°å›¾çš„ä¸Šè¾¹ç•Œå¤šè¿œï¼Œ`Number`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤ä¸º0
3. `width`ï¼Œæ§ä»¶å®½åº¦ï¼Œ`Number`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤ä¸ºå›¾ç‰‡å®½åº¦
4. `height`ï¼Œæ§ä»¶é«˜åº¦ï¼Œ`Number`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤ä¸ºå›¾ç‰‡é«˜åº¦

> æ³¨æ„åœ¨uniappä¸­åœ°å›¾ç»„ä»¶çš„ç»çº¬åº¦å¿…å¡«ï¼Œå¦‚æœä¸å¡«ï¼Œç»çº¬åº¦åˆ™é»˜è®¤å€¼æ˜¯åŒ—äº¬çš„ç»çº¬åº¦ã€‚

## 2.uniappä½¿ç”¨mapç»„ä»¶

### åŸºæœ¬ä½¿ç”¨æ–¹æ³•

ä½¿ç”¨uniappå¼€å‘ä¸­çš„mapç»„ä»¶ï¼ŒåŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š

<font color=#999AAA >ä»£ç å¦‚ä¸‹ï¼ˆç¤ºä¾‹ï¼‰ï¼š

```javascript
<map :scale="scale" style="width: 100%; height: 100%;"
enable-3D="false" show-compass="false" enable-overlooking="false"
:enable-satellite="false" :enable-traffic="false" show-location="false"
:latitude="latitude" :longitude="longitude" :markers="covers">
</map>
```

`markers`å±æ€§çš„ä½¿ç”¨ï¼Œ<font color=#999AAA >ä»£ç å¦‚ä¸‹ï¼ˆç¤ºä¾‹ï¼‰ï¼š

```javascript
markers: [{
	id: 1, // Number
	title: '1', // String-æ ‡æ³¨ç‚¹å
	rotate: 180, // Number - é¡ºæ—¶é’ˆæ—‹è½¬çš„è§’åº¦ï¼ŒèŒƒå›´ 0 ~ 360ï¼Œé»˜è®¤ä¸º 0
	alpha: 0.5, // é»˜è®¤1ï¼Œæ— é€æ˜ï¼ŒèŒƒå›´ 0 ~ 1
	latitude: 39.899,
	longitude: 116.39742,
	width: 30,
	height: 30,
	// callout: {
	// 	display: "BYCLICK",
	// 	padding: 10,
	// 	borderRadius: 5,
	// 	content: '',
	// },
	// anchor: {},
	iconPath: '../../../static/location.png', // æ˜¾ç¤ºçš„å›¾æ ‡
}, {
	id: 2,
	title: '2', // String
	latitude: 39.90,
	longitude: 116.39,
	callout: {
		color: '#007AFF', // æ–‡æœ¬é¢œè‰²
		bgColor: '#563BFF', // èƒŒæ™¯è‰²
		display: "ALWAYS", // 'BYCLICK':ç‚¹å‡»æ˜¾ç¤º; 'ALWAYS':å¸¸æ˜¾
		fontSize: 15,
		textAlign: 'left', // æ–‡æœ¬å¯¹é½æ–¹å¼ã€‚æœ‰æ•ˆå€¼: left, right, center
		padding: 10, // æ–‡æœ¬è¾¹ç¼˜ç•™ç™½
		borderRadius: 5,
		content: 'è…¾è®¯åœ°å›¾',
	},
	label: {
		content: 'Jeskson',
		color: '#000000',
		fontSize: 12,
		borderWidth: 12,
		borderColor: '#007AFF',
		borderRadius: 5,
		padding: 5,
		textAlign: 'center',
		bgColor: '#563BFF',
	},
	iconPath: '../../../static/location.png'
}]
```

é¢„è§ˆæ•ˆæœå¦‚ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/584817055c894b588c4a1a9136e9b705~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
controls:[{
    // åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºæ§ä»¶ï¼Œæ§ä»¶ä¸éšç€åœ°å›¾ç§»åŠ¨
    id: 1, // æ§ä»¶id
	iconPath:'../../static/icon.png', // æ˜¾ç¤ºçš„å›¾æ ‡
	position:{
	 // æ§ä»¶åœ¨åœ°å›¾çš„ä½ç½®
	 left: 15,
	 top: 15,
	 width: 50,
	 height: 50
   },    
}],
```

### åœ°å€æœç´¢

> `uni-app` åªæ”¯æŒ `gcj02` åæ ‡

`uni.getLocation(OBJECT)`ä¸­çš„`object`å‚æ•°

è·å–å½“å‰çš„åœ°ç†ä½ç½®ã€é€Ÿåº¦ã€‚ åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œå½“ç”¨æˆ·ç¦»å¼€åº”ç”¨åï¼Œæ­¤æ¥å£æ— æ³•è°ƒç”¨ï¼Œé™¤éç”³è¯·åå°æŒç»­å®šä½æƒé™ï¼›å½“ç”¨æˆ·ç‚¹å‡»â€œæ˜¾ç¤ºåœ¨èŠå¤©é¡¶éƒ¨â€æ—¶ï¼Œæ­¤æ¥å£å¯ç»§ç»­è°ƒç”¨ã€‚

OBJECTå‚æ•°è¯´æ˜

1. `type`ï¼Œ`String`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤ä¸º `wgs84` è¿”å› `gps` åæ ‡ï¼Œ`gcj02` è¿”å›å›½æµ‹å±€åæ ‡ï¼Œå¯ç”¨äº `uni.openLocation` çš„åæ ‡ï¼Œ`app`å¹³å°é«˜å¾·`SDK`ä»…æ”¯æŒè¿”å›`gcj02`	
2. `altitude`ï¼Œ`Boolean`ï¼Œä¸å¿…å¡«ï¼Œä¼ å…¥ `true` ä¼šè¿”å›é«˜åº¦ä¿¡æ¯ï¼Œç”±äºè·å–é«˜åº¦éœ€è¦è¾ƒé«˜ç²¾ç¡®åº¦ï¼Œä¼šå‡æ…¢æ¥å£è¿”å›é€Ÿåº¦
3. `geocode`ï¼Œ`Boolean`ï¼Œä¸å¿…å¡«ï¼Œé»˜è®¤`false`ï¼Œæ˜¯å¦è§£æåœ°å€ä¿¡æ¯
4. `success`ï¼Œ`Function`ï¼Œå¿…å¡«ï¼Œæ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°ï¼Œè¿”å›å†…å®¹è¯¦è§è¿”å›å‚æ•°è¯´æ˜
5. `fail`ï¼Œ`Function`ï¼Œä¸å¿…å¡«ï¼Œæ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°	
6. `complete`ï¼Œ`Function`ï¼Œä¸å¿…å¡«ï¼Œæ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸã€å¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼‰

å¯¹äº`success`è¿”å›å‚æ•°è¯´æ˜ï¼š

1. `latitude`ï¼Œçº¬åº¦ï¼Œæµ®ç‚¹æ•°ï¼ŒèŒƒå›´ä¸º`-90~90`ï¼Œè´Ÿæ•°è¡¨ç¤ºå—çº¬
2. `longitude`ï¼Œç»åº¦ï¼Œæµ®ç‚¹æ•°ï¼ŒèŒƒå›´ä¸º`-180~180`ï¼Œè´Ÿæ•°è¡¨ç¤ºè¥¿ç»
3. `speed`ï¼Œé€Ÿåº¦ï¼Œæµ®ç‚¹æ•°ï¼Œå•ä½`m/s`
4. `accuracy`ï¼Œä½ç½®çš„ç²¾ç¡®åº¦
5. `altitude`ï¼Œé«˜åº¦ï¼Œå•ä½ `m`
6. `verticalAccuracy`ï¼Œå‚ç›´ç²¾åº¦ï¼Œå•ä½ `m`ï¼ˆ`Android` æ— æ³•è·å–ï¼Œè¿”å› `0`ï¼‰
7. `horizontalAccuracy`ï¼Œæ°´å¹³ç²¾åº¦ï¼Œå•ä½ `m`
8. `address`ï¼Œåœ°å€ä¿¡æ¯ï¼ˆä»…`App`ç«¯æ”¯æŒï¼Œéœ€é…ç½®`geocode`ä¸º`true`ï¼‰

`address` åœ°å€ä¿¡æ¯è¯´æ˜

1. `country`ï¼Œ`String`ï¼Œå›½å®¶	å¦‚â€œä¸­å›½â€ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`
2. `province`ï¼Œ`String`ï¼Œçœä»½åç§°	å¦‚â€œåŒ—äº¬å¸‚â€ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`
3. `city`ï¼Œ`String`ï¼ŒåŸå¸‚åç§°ï¼Œå¦‚â€œåŒ—äº¬å¸‚â€ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`
4. `district`ï¼Œ`String`ï¼ŒåŒºï¼Œå¿åç§°	å¦‚â€œæœé˜³åŒºâ€ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`
5. `street`ï¼Œ`String`ï¼Œè¡—é“ä¿¡æ¯ï¼Œå¦‚â€œé…’ä»™æ¡¥è·¯â€ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`
6. `streetNum`ï¼Œ`String`ï¼Œè·å–è¡—é“é—¨ç‰Œå·ä¿¡æ¯ï¼Œå¦‚â€œ3å·â€ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`
7. `poiName`ï¼Œ`String	POI`ä¿¡æ¯ï¼Œå¦‚â€œç”µå­åŸï¼å›½é™…ç”µå­æ€»éƒ¨â€ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`
8. `postalCode`ï¼Œ`String`ï¼Œé‚®æ”¿ç¼–ç ï¼Œå¦‚`â€œ100016â€`ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`
9. `cityCode`ï¼Œ`String`ï¼ŒåŸå¸‚ä»£ç ï¼Œå¦‚`â€œ010â€`ï¼Œæ²¡æœ‰åˆ™è¿”å›`undefined`

`uni.chooseLocation(OBJECT)`æ‰“å¼€åœ°å›¾é€‰æ‹©ä½ç½®ã€‚

1. `latitude`ï¼Œ`String`ï¼Œä¸å¿…å¡«ï¼Œç›®æ ‡åœ°çº¬åº¦ 
2. `longitude`ï¼Œ`String`ï¼Œä¸å¿…å¡«ï¼Œç›®æ ‡åœ°ç»åº¦ 
3. `keyword`ï¼Œ`String`ï¼Œä¸å¿…å¡«ï¼Œæœç´¢å…³é”®å­—ï¼Œä»…Appå¹³å°æ”¯æŒ
4. `success`ï¼Œ`Function`ï¼Œå¿…å¡«
5. `fail`ï¼Œ`Function`ï¼Œä¸å¿…å¡«
6. `complete`ï¼Œ`Function`ï¼Œä¸å¿…å¡«

`success`è¿”å›å‚æ•°è¯´æ˜ï¼š

1. `name`ï¼Œä½ç½®åç§°
2. `address`ï¼Œè¯¦ç»†åœ°å€
3. `latitude`ï¼Œçº¬åº¦ï¼Œæµ®ç‚¹æ•°ï¼ŒèŒƒå›´ä¸º`-90~90`ï¼Œè´Ÿæ•°è¡¨ç¤ºå—çº¬ï¼Œä½¿ç”¨ `gcj02` å›½æµ‹å±€åæ ‡ç³»ã€‚
4. `longitude`ï¼Œç»åº¦ï¼Œæµ®ç‚¹æ•°ï¼ŒèŒƒå›´ä¸º`-180~180`ï¼Œè´Ÿæ•°è¡¨ç¤ºè¥¿ç»ï¼Œä½¿ç”¨ `gcj02` å›½æµ‹å±€åæ ‡ç³»ã€‚

<font color=#999AAA >ä»£ç å¦‚ä¸‹ï¼ˆç¤ºä¾‹ï¼‰ï¼š

```javascript
chooseLocation(e) { //æ‰“å¼€åœ°å›¾é€‰æ‹©ä½ç½®
	uni.chooseLocation({
		success: res => {
			console.log('ä½ç½®åç§°ï¼š' + res.name);
			console.log('è¯¦ç»†åœ°å€ï¼š' + res.address);
			console.log('çº¬åº¦ï¼š' + res.latitude);
			console.log('ç»åº¦ï¼š' + res.longitude);
			uni.getLocation({
				type: 'gcj02',
				altitude:true,
				geocode:true,
				success: function(res) {
					console.log('å½“å‰ä½ç½®çš„ç»åº¦ï¼š' + res.longitude);
					console.log('å½“å‰ä½ç½®çš„çº¬åº¦ï¼š' + res.latitude);
				}
			});
			console.log('çœï¼š' + res.address.slice(0, res.address.indexOf('çœ') + 1));
			console.log('å¸‚ï¼š' + res.address.slice(res.address.indexOf('çœ') + 1, res.address.indexOf('å¸‚') + 1));
			console.log('åŒºï¼š' + res.address.slice(res.address.indexOf('å¸‚') + 1, res.address.indexOf('åŒº') + 1));
			this.query.address = res.address;
			this.query.latitude = res.latitude;
			this.query.longitude = res.longitude;
			this.query.province = res.address.slice(0, res.address.indexOf('çœ') + 1)
			this.query.city = res.address.slice(res.address.indexOf('çœ') + 1, res.address.indexOf('å¸‚') + 1)
			this.query.district = res.address.slice(res.address.indexOf('å¸‚') + 1, res.address.indexOf('åŒº') + 1)
		}
	});
},
```

é¢„è§ˆæ•ˆæœï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f79bcab39b1849659dcf76019395060b~tplv-k3u1fbpfcp-zoom-1.image)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d97c6d47902740cf8258817512eefd34~tplv-k3u1fbpfcp-zoom-1.image)

### è·å–é™„è¿‘çš„åŠ¨æ€ï¼Œç‚¹èšåˆ

`uni.getNetworkType(OBJECT)`è·å–ç½‘ç»œç±»å‹ã€‚

`uni.createMapContext(mapId,this)`åˆ›å»ºå¹¶è¿”å› `map` ä¸Šä¸‹æ–‡ `mapContext` å¯¹è±¡ã€‚åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸‹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ç»„ä»¶å®ä¾‹`this`ï¼Œä»¥æ“ä½œç»„ä»¶å†… `<map>` ç»„ä»¶ã€‚

`mapContext`-`mapContext` é€šè¿‡ `mapId` è·Ÿä¸€ä¸ª `<map>` ç»„ä»¶ç»‘å®šï¼Œé€šè¿‡å®ƒå¯ä»¥æ“ä½œå¯¹åº”çš„ `<map>` ç»„ä»¶ã€‚

è¯¥å¯¹è±¡å¾—æ–¹æ³•åˆ—è¡¨ï¼š

1. `getCenterLocation`	`OBJECT`	è·å–å½“å‰åœ°å›¾ä¸­å¿ƒçš„ç»çº¬åº¦ï¼Œè¿”å›çš„æ˜¯ `gcj02` åæ ‡ç³»ï¼Œå¯ä»¥ç”¨äº `uni.openLocatio`n
2. `moveToLocation`	`OBJECT`	å°†åœ°å›¾ä¸­å¿ƒç§»åŠ¨åˆ°å½“å‰å®šä½ç‚¹ï¼Œéœ€è¦é…åˆ`map`ç»„ä»¶çš„`show-location`ä½¿ç”¨
3. `translateMarker`	`OBJECT`	å¹³ç§»`marker`ï¼Œå¸¦åŠ¨ç”»
4. `includePoints`	`OBJECT`	ç¼©æ”¾è§†é‡å±•ç¤ºæ‰€æœ‰ç»çº¬åº¦
5. `getRegion`	`OBJECT`	è·å–å½“å‰åœ°å›¾çš„è§†é‡èŒƒå›´
6. `getScale`	`OBJECT`	è·å–å½“å‰åœ°å›¾çš„ç¼©æ”¾çº§åˆ«
7. `$getAppMap`		è·å–åŸç”Ÿåœ°å›¾å¯¹è±¡ `plus.maps.Map`

`getCenterLocation` çš„ `OBJECT` å‚æ•°åˆ—è¡¨

`success`	`Function`	ä¸å¿…å¡«ï¼Œæ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•° ï¼Œ`res = { longitude: "ç»åº¦", latitude: "çº¬åº¦"}`

`moveToLocation` çš„ `OBJECT` å‚æ•°åˆ—è¡¨ - å¯ä¸å¿…å¡«

`translateMarker` çš„ `OBJECT` å‚æ•°åˆ—è¡¨

1. `markerId`	`Number`	å¿…å¡«	æŒ‡å®š `marker`
2. `destination`	`Object`	å¿…å¡« æŒ‡å®š `marker` ç§»åŠ¨åˆ°çš„ç›®æ ‡ç‚¹
3. `autoRotate`	`Boolean`	ä¸å¿…å¡«	ç§»åŠ¨è¿‡ç¨‹ä¸­æ˜¯å¦è‡ªåŠ¨æ—‹è½¬ `marker`
4. `rotate`	`Number`	ä¸å¿…å¡« `marker` çš„æ—‹è½¬è§’åº¦
5. `duration`	`Number`	ä¸å¿…å¡« åŠ¨ç”»æŒç»­æ—¶é•¿ï¼Œé»˜è®¤å€¼`1000ms`ï¼Œå¹³ç§»ä¸æ—‹è½¬åˆ†åˆ«è®¡ç®—
6. `animationEnd`	`Function`	ä¸å¿…å¡« åŠ¨ç”»ç»“æŸå›è°ƒå‡½æ•°
7. `fail`	`Function`	ä¸å¿…å¡« æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°

<font color=#999AAA >ä»£ç å¦‚ä¸‹ï¼ˆç¤ºä¾‹ï¼‰ï¼š

```javascript
<view id="activeMap">
	<view @tap="activeMarker={}">
		<view class="page-body map-view" style="z-index: 1;position: relative;">
			<view class="page-section page-section-gap map-view">
				<map :markers="shops" id="map1" :show-location="true" :latitude="latitude" :longitude="longitude" @regionchange="regionChange"
				 @markertap="markerTap" @tap="activeMarker={}">
					<!-- @markertap ç‚¹å‡»æ ‡è®°ç‚¹æ—¶è§¦å‘ï¼Œe.detail = {markerId}-->
					<!-- @tap ç‚¹å‡»åœ°å›¾æ—¶è§¦å‘-->
					<!-- @regionchange è§†é‡å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘-->
				</map>
				<cover-image class="map-image" src="../static/address.png"></cover-image>
			</view>
		</view>
	</view>
</view>
```

```javascript
regionChange() { // ç§»åŠ¨åœ°å›¾åé‡æ–°è·å–é—¨åº—
	uni.createMapContext('map1', this).getCenterLocation({
		success: res => {
			console.log(res.latitude)
			console.log(res.longitude)
			this.shopTimeout = setTimeout(_ => {
				this.shops = [{
					address: "å¹¿ä¸œçœæ±•å¤´å¸‚xxxåŒºxxå¤§é“1",
					distance: 122,
					end_time: "1",
					id: 2,
					latitude: "22.72078500009999",
					longitude: "114.36090200009999",
					shop: {
						iconPath: '/static/logo.png',
						id: 3,
						latitude: "22.72078500009999",
						longitude: "114.36090200009999",
						height: 34,
						width: 34,
						shop: {return: 0}
					},
					return: 0,
					height: 34,
					width: 34,
					start_time: "1",
					store_name: "ä¸‰æ˜Ÿå¤§é…’åº—",
					iconPath: '/static/shop.png',
				}]
			}, 500)
		},
		fail: res => {
			uni.showModal({
				content: 'è·å–ä½ç½®å¤±è´¥',
				showCancel: false
			})
		}
	})
},
```

é¢„è§ˆæ•ˆæœå›¾å¦‚ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ea84828d4ed4254b5ee3523fd12a3f5~tplv-k3u1fbpfcp-zoom-1.image)
### åœ°å›¾ä¸Šæ ‡æ³¨é™„è¿‘çš„äºº

<font color=#999AAA >ä»£ç å¦‚ä¸‹ï¼ˆç¤ºä¾‹ï¼‰ï¼š

```javascript
list: [{
	id: 1264640,
	user_id: 335187,
	place: "Jesksonå¸‚",
	text: "dadaqianduan.cn",
	latitude: "27.267520",
	longitude: "111.727120",
	status: "normal",
	nickname: "dada",
	avatar: "https://image.aishencn.com/2020/10/20/002207441_40845724-user.jpg",
	distance: 13419,
}, {
	id: 1272720,
	user_id: 36950,
	place: "dadaqianduanå¸‚",
	text: "dadaqianduan.cn",
	latitude: "27.257640",
	longitude: "111.747910",
	deletetime: null,
	status: "normal",
	nickname: "dadaqianduan",
	avatar: "https://image.aishencn.com/2020/04/09/004135379_37869100-user.jpg",
	distance: 27070,
}, {
	id: 1316740,
	user_id: 366172,
	place: "dadaqianduan.cn",
	text: "dadaqianduan.cn",
	images: "https://image.aishencn.com/2020/11/04/215134979_98197351-bbs.jpg",
	latitude: "27.257430",
	longitude: "111.732960",
	status: "normal",
	nickname: "dada",
	avatar: "https://image.aishencn.com/2020/11/04/182622730_98197351-user.venus/cache/ext/crop/1604518314542_jpg",
	distance: 27190,
	images_arr: ["https://image.aishencn.com/2020/11/04/215134979_98197351-bbs.jpg"]
}],
```

é¢„è§ˆæ•ˆæœå¦‚å›¾ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c06e2145d4e44bad9714a49eeb1eb9f5~tplv-k3u1fbpfcp-zoom-1.image)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d51ef43fb9242939d45f029e0bfc89d~tplv-k3u1fbpfcp-zoom-1.image)
### å®šä½é™„è¿‘é—¨åº—

<font color=#999AAA >ä»£ç å¦‚ä¸‹ï¼ˆç¤ºä¾‹ï¼‰ï¼š

```javascript
// ä¸¤ç‚¹é—´è·ç¦»
distance(la1, lo1, la2, lo2) {
	var La1 = (la1 * Math.PI) / 180.0
	var La2 = (la2 * Math.PI) / 180.0
	var La3 = La1 - La2
	var Lb3 = (lo1 * Math.PI) / 180.0 - (lo2 * Math.PI) / 180.0
	var s =
		2 *
		Math.asin(
			Math.sqrt(
				Math.pow(Math.sin(La3 / 2), 2) +
				Math.cos(La1) * Math.cos(La2) * Math.pow(Math.sin(Lb3 / 2), 2)
			)
		)
	s = s * 6378.137 //åœ°çƒåŠå¾„
	s = Math.round(s * 10000) / 10000
	return s
},
// è®¡ç®—æœ€è¿‘çš„è·ç¦»
nearDistance(array, centerLatitude, centerLongitude) {
	let temp = []
	for (let i = 0, l = array.length; i < l; i++) {
		const element = array[i]
		let d = this.distance(
			element.latitude,
			element.longitude,
			centerLatitude,
			centerLongitude
		)
		temp.push(d)
	}
	this.distanceL = Math.min.apply(null, temp)
}
```

æ•ˆæœå¦‚ä¸‹å›¾ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/357c296732ce4831bbd604e6dd0c32d5~tplv-k3u1fbpfcp-zoom-1.image)
### æ»‘åŠ¨è½¨è¿¹

<font color=#999AAA >ä»£ç å¦‚ä¸‹ï¼ˆç¤ºä¾‹ï¼‰ï¼š

```javascript
<map :polyline="polyline" :scale="scale" id="maps" :markers="markers" :latitude="center.latitude"
:longitude="center.longitude">
</map>
```

```javascript
// æ’­æ”¾æ ‡è®°ç‚¹
playMarkars() {
	if (this.polyline.length == 0) {
		uni.showModal({
			content: 'å½“å‰æ—¶é—´èŒƒå›´å†…æ²¡æœ‰è½¨è¿¹ï¼Œæ— æ³•æ’­æ”¾ï¼',
		})
		this.isPlay = false // æ— 
		this.playIndex = 0 // ç¬¬ä¸€ä¸ª
		return
	}
	this.playIndex = Math.min(this.points.length - 1, this.playIndex)
	this.markers = [this.formatMarker(this.points[this.playIndex++], 'ALWAYS')]
	this.timer = setInterval(_ => {
		var i = this.playIndex++
		this.nextAdaress(i);
		if (i >= this.points.length) {
			clearInterval(this.timer)
			this.isPlay = false
			this.playIndex = 0
			this.initMarkers()
			return
		}
		this.markers = [this.formatMarker(this.points[i], 'ALWAYS')]
	}, 1000)
},

formatMarker(point, display = "BYCLICK") {
	let content = [
		"æ—¶é—´ï¼š" + parseTime(point.create_time),
		"è¿åŠ¨çŠ¶æ€ï¼š" + (point.sport == 1 ? 'è¿åŠ¨' : 'é™æ­¢'),
		"åœ°å€ï¼š" + point.address || ''
	]
	return {
		id: point.id,
		iconPath: '/static/dada.png',
		width: 35,
		height: 35,
		latitude: point.latitude,
		longitude: point.longitude,
		callout: {
			display: display,
			padding: 10,
			borderRadius: 5,
			content: content.join("\n")
		}
	}
},
nextAdaress(index) {
	const len = 10;
	if (this.isGetAddress) {
		return
	}
	for (let i = 0; i < len; i++) {
		if (!this.points[i + index]) {
			break
		}
		if (this.points[i + index].address === undefined) {
			this.isGetAddress = true
			this.getAddress(i + index, len * 2, _ => {
				this.isGetAddress = false
			});
			break
		}
	}
},
```

å›¾ç‰‡æ•ˆæœå¦‚ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4be226d49977499295fcee55bed0c557~tplv-k3u1fbpfcp-zoom-1.image)
### vueæ¥å…¥è…¾è®¯åœ°å›¾æ¥å£

è…¾è®¯ï¼ˆæ¨èï¼‰
```javascript
https://apis.map.qq.com/ws/location/v1/ip={$ip}&key={$key}
```
éœ€è¦ç”³è¯·`key`ï¼Œé€Ÿåº¦å¿«ï¼Œæœ‰åŸºæœ¬ä¿¡æ¯

é¦–é¡µç‚¹å‡»å¯ä»¥è¿›è¡Œæ³¨å†Œï¼Œç”³è¯·ä¸€ä¸ªè·å–`key`ï¼š[https://lbs.qq.com?lbs_invite=VJJIFLV](https://lbs.qq.com?lbs_invite=VJJIFLV)

keyç®¡ç†ï¼Œåˆ›å»ºæ–°å¯†é’¥ï¼Œå¡«å†™ç›¸åº”ä¿¡æ¯å³å¯
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44a272d9918c43b7a9f9c9b83d3a6c6d~tplv-k3u1fbpfcp-zoom-1.image)



1.åˆ›å»ºåœ°å›¾é¢„è§ˆæ•ˆæœå›¾å¦‚ä¸‹ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d5d0463ab5c840359874900f3555d3e1~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
<script charset="utf-8" src="https://map.qq.com/api/gljs?v=1.exp&key=ç”³è¯·çš„key"></script>

 <script type="text/javascript">
    function initMap() {
        var center = new TMap.LatLng(39.984104, 116.307503);
        //åˆå§‹åŒ–åœ°å›¾
        var map = new TMap.Map("container", {
            rotation: 20,//è®¾ç½®åœ°å›¾æ—‹è½¬è§’åº¦
            pitch:30, //è®¾ç½®ä¿¯ä»°è§’åº¦ï¼ˆ0~45ï¼‰
            zoom:12,//è®¾ç½®åœ°å›¾ç¼©æ”¾çº§åˆ«
            center: center//è®¾ç½®åœ°å›¾ä¸­å¿ƒç‚¹åæ ‡
        });
    }
</script>
```

2.åœ°å›¾åŠ è½½å®Œæˆæ•ˆæœå›¾ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f39fd14f579a441d9e499149c570aaf1~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
<script>
    function initMap() {
        //åˆå§‹åŒ–åœ°å›¾
        var map = new TMap.Map("container", {
            center: new TMap.LatLng(39.984104, 116.307503)
        });
        //ç›‘å¬åœ°å›¾ç“¦ç‰‡åŠ è½½å®Œæˆäº‹ä»¶
        map.on("tilesloaded", function () {
            document.getElementById("tip").innerHTML = "åœ°å›¾ç“¦ç‰‡å·²åŠ è½½å®Œæˆ"
        })
    }
</script>
```

3.å¼‚æ­¥åŠ è½½åœ°å›¾

```javascript
<script>
        function initMap() {
            var map = new TMap.Map("container", {
                pitch: 45,
                zoom: 12,
                center: new TMap.LatLng(39.984104, 116.307503)
            });
        }
        function loadScript() {
            //åˆ›å»ºscriptæ ‡ç­¾ï¼Œå¹¶è®¾ç½®srcå±æ€§æ·»åŠ åˆ°bodyä¸­
            var script = document.createElement("script");
            script.type = "text/javascript";
            script.src = "https://map.qq.com/api/gljs?v=1.exp&key=ç”³è¯·key";
            document.body.appendChild(script);
        }
        window.onload = loadScript;
    </script>
```

4.åŒæ—¶åŠ è½½ä¸¤ä¸ªåœ°å›¾æ•ˆæœå›¾å¦‚ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aaf4d0baf48e498bba7e2e338386817c~tplv-k3u1fbpfcp-zoom-1.image)

```javascript
<script>
    function initMap() {
        //åˆå§‹åŒ–åœ°å›¾ä¸€
        var mapOne = new TMap.Map("containerOne", {
            pitch:45,
            center: new TMap.LatLng(39.984104, 116.307503)
        });
        //åˆå§‹åŒ–åœ°å›¾äºŒ
        var mapTwo = new TMap.Map("containerTwo", {
            center: new TMap.LatLng(39.984104, 116.307503)
        });
    }
</script>
```

5.è·å–åœ°å›¾ä¸­å¿ƒæ•ˆæœå¦‚ä¸‹å›¾ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/74d8242c50d34531ab9ebeea3045a5f5~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
<script>
    var centerInfo = document.getElementById("center-info");

    var center = new TMap.LatLng(39.984104, 116.307503);//è®¾ç½®ä¸­å¿ƒç‚¹åæ ‡
    //åˆå§‹åŒ–åœ°å›¾
    var map = new TMap.Map("container", {
        center: center
    });
    //è·å–åœ°å›¾ä¸­å¿ƒç‚¹äº‹ä»¶
    function getCenter() {            
        var mapCenter = map.getCenter(); //è·å–åœ°å›¾ä¸­å¿ƒç‚¹åæ ‡
        centerInfo.innerHTML = "å½“å‰åœ°å›¾ä¸­å¿ƒä¸º: " + mapCenter.getLat().toFixed(6) + "," + mapCenter.getLng().toFixed(6);
    }
    //è®¾ç½®åœ°å›¾ä¸­å¿ƒç‚¹äº‹ä»¶
    function setCenter() {
        map.setCenter(new TMap.LatLng(39.908802,116.397502));//åæ ‡ä¸ºå¤©å®‰é—¨
        centerInfo.innerHTML = "å½“å‰åœ°å›¾ä¸­å¿ƒä¸º: 39.908802,116.397502";
    }
</script>
```

6.åœ°å›¾å¹³ç§»æ•ˆæœå›¾å¦‚ä¸‹ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f6a85f18ddd4a239966bd925afde581~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
<script>
    function initMap() {
        var position = document.getElementById("position");
        var txt = document.getElementById("txt");
        var center = new TMap.LatLng(39.984104, 116.307503);//è®¾ç½®ä¸­å¿ƒç‚¹åæ ‡
        //åˆå§‹åŒ–åœ°å›¾
        var map = new TMap.Map("container", {
            center: center
        });
        location.innerHTML = map.getCenter().toString();
        //ç›‘å¬åœ°å›¾å¼€å§‹å¹³ç§»
        map.on("panstart", function () {
            txt.innerHTML = "åœ°å›¾å¼€å§‹å¹³ç§»"
        })
        //ç›‘å¬åœ°å›¾å¹³ç§»
        map.on("pan",function(){
            txt.innerHTML = "åœ°å›¾æ­£åœ¨å¹³ç§»";
            position.innerHTML = map.getCenter().toString();//è·å–åœ°å›¾ä¸­å¿ƒç‚¹
        })
        //ç›‘å¬åœ°å›¾å¹³ç§»ç»“æŸ
        map.on("panend",function(){
            txt.innerHTML = "åœ°å›¾ç»“æŸå¹³ç§»";
        })
    }
</script>
```

## 3.vueæ¥å…¥è…¾è®¯åœ°å›¾

```javascript
<template>
  <div>
    <div id="map" style="width:500px;height:500px;"></div>
  </div>
</template>
 
<script>
export default {
  data() {
    return {
      longitude: "",
      latitude: ""
    };
  },
  
  methods: {
    init() {
      let address = "";
      let that = this;
      var center = new qq.maps.LatLng(34.754152, 113.667636);
      var map = new qq.maps.Map(document.getElementById('map'), {
        center: center,
        zoom: 13,
        disableDefaultUI: true
      });
      var marker = new qq.maps.Marker({
        position: center,
        map: map
      });
      var infoWin = new qq.maps.InfoWindow({
        map: map
      });
      var geocoder = new qq.maps.Geocoder({
        complete: function(res) {
          console.log(res);
          address = res.detail.nearPois[0].name;
        }
      });
      qq.maps.event.addListener(map, "click", function(event) {
        this.longitude = event.latLng.getLat();
        this.latitude = event.latLng.getLng();
        console.log(event);
        let lat = new qq.maps.LatLng(this.longitude, this.latitude);
        geocoder.getAddress(lat);
        setTimeout(() => {
          infoWin.open();
          infoWin.setContent(
            '<div style="text-align:center;white-space:nowrap;">' +
              address +
              "</div>"
          );
          infoWin.setPosition(event.latLng);
        }, 200);
      });
    }
  },
  mounted() {
    this.init();
  }
};
</script>
<style scoped>
</style>
```

ä½¿ç”¨å‰éœ€è¦åœ¨`index.html`é‡Œå¼•å…¥`<script charset="utf-8" src="https://map.qq.com/api/js?v=2.exp&key=YOUR_KEY"></script>`æ‰å¯ä»¥ä½¿ç”¨åœ°å›¾ã€‚

```javascript
<script charset="utf-8" src="https://map.qq.com/api/js?v=2.exp&key=yourkey"></script>
<template>
    <div>
        <div id="container" style="width:500px;height:500px;"></div>
    </div>
</template>

<script>
    export default{
    	data() {
            return {
                longitude:39.956987, // ç»åº¦
                latitude:116.235128 // çº¬åº¦
            }
        },
        mounted () {
            this.init();
        },
        methods:{
            init() {
                var myLatlng = new qq.maps.LatLng(39.945687,116.3976968);
                var myOptions = {
                  zoom: 8,               // è®¾ç½®åœ°å›¾ç¼©æ”¾çº§åˆ«
                  center: myLatlng,      // è®¾ç½®ä¸­å¿ƒç‚¹æ ·å¼
                  mapTypeId: qq.maps.MapTypeId.ROADMAP   
                }
                var map = new qq.maps.Map(document.getElementById("container"), myOptions);
            }
        }
    }
</script>
```

> åˆ›å»ºåœ°å›¾å®ä¾‹

```javascript
var map=new qq.maps.Map(document.getElement('container'),{
center,//åæ ‡ï¼Œå³æœ€åˆæ˜¾ç¤ºçš„åœ°å›¾ä¸­å¿ƒ
zoom    //ç¼©æ”¾çº§åˆ«ï¼Œå³æ˜¾ç¤ºçš„æ¯”ä¾‹
}ï¼‰
```

> ç»™åœ°å›¾æ·»åŠ äº‹ä»¶

```javascript
qq.maps.event.addListener(map,'click',function(res){
// reså³ç‚¹å‡»åçš„ä½ç½®ä¿¡æ¯
})
```

> æ·»åŠ æ ‡è®°

```javascript
var marker=new qq.maps.Marker({
position, // æ ‡è®°ç‚¹çš„ä½ç½®ï¼Œä¹Ÿå¯ä»¥æ˜¯é€šè¿‡IPè·å–åˆ°çš„åæ ‡
map, // æ ‡è®°åœ¨å“ªä¸ªåœ°å›¾ä¸Š
animation, // æ ‡è®°æ˜¾ç¤ºæ—¶çš„åŠ¨ç”»æ•ˆæœ
title, // é¼ æ ‡æ‚¬æµ®åˆ°æ ‡è®°ä¸Šæ—¶çš„æ ‡é¢˜
draggable // æ˜¯å¦å¯æ‹–æ‹½
})
```

> åˆ›å»ºä¿¡æ¯çª—å£

```javascript
var info=new qq.maps.InfoWindow({
map, // æ ‡è®°åœ¨å“ªä¸ªåœ°å›¾ä¸Š
content // ä¿¡æ¯çª—å£çš„å†…å®¹
})
```

> è¦†ç›–ç‰©

```javascript
var polyline=new qq.maps.Polyline({
map, // æ ‡è®°åœ¨å“ªä¸ªåœ°å›¾ä¸Š
path, // ä¸€ä¸ªåæ ‡æ•°ç»„ï¼ŒæŠ˜çº¿ã€å¤šè¾¹å½¢å°±æ˜¯ä¾é è¿™äº›åæ ‡æ•°ç»„æ¥æˆå½¢çš„
strokeColor, // æŠ˜çº¿é¢œè‰²
strokeDashStyle, // æŠ˜çº¿æ ·å¼
strokeWeight, // æŠ˜çº¿å®½åº¦
editable, // æŠ˜çº¿æ˜¯å¦å¯ç¼–è¾‘
clickable // æ˜¯å¦å¯ç‚¹å‡»
})
```

å•ä¸ªæ ‡æ³¨ç‚¹

åœ¨`mounted`ç”Ÿå‘½å‘¨æœŸæˆ–è€…ä»åå°æ¥å£è·å¾—ä¿¡æ¯åè°ƒç”¨åˆå§‹åŒ–åœ°å›¾æ–¹æ³•

```javascript
initMap (latitude, longitude, message) {
    var center = new qq.maps.LatLng(latitude, longitude);
    var map = new qq.maps.Map(
        document.getElementById("container"),
        {
            center: center,
            zoom: 13
        }
    );

    var marker = new qq.maps.Marker({
        position: center,
        map: map
    });

    var info = new qq.maps.InfoWindow({
        map: map
    });
    
    // æ‚¬æµ®æ ‡è®°æ˜¾ç¤ºä¿¡æ¯
    qq.maps.event.addListener(marker, 'mouseover', function() {        
        info.open();
        info.setContent(`<div style="margin:10px;">${message}</div>`);
        info.setPosition(center);
    });
    qq.maps.event.addListener(marker, 'mouseout', function() {
        info.close();
    });
},
```

å¤šä¸ªæ ‡æ³¨ç‚¹

```javascript
markers: [  ]; // æ ‡è®°ç‚¹æ•°ç»„

mounted () {
    this.initMap(this.markers)
},

initMap (arr) {
    // é»˜è®¤ä»¥æ•°ç»„ç¬¬ä¸€é¡¹ä¸ºä¸­å¿ƒ
    var center = new qq.maps.LatLng(arr[0].latitude, arr[0].longitude);
    
    var map = new qq.maps.Map(
        document.getElementById("container"),
        {
            center: center,
            zoom: 13
        }
    );
    
    // æç¤ºçª—
    var info = new qq.maps.InfoWindow({
        map: map
    });
    
    for (var i = 0; i < arr.length; i++) {
        var data = arr[i];

        var marker = new qq.maps.Marker({ 
            position: new qq.maps.LatLng(data.latitude, data.longitude), 
            map: map 
        });

        marker.id = data.id;
        marker.name = data.name;
        // ç‚¹å‡»äº‹ä»¶
        qq.maps.event.addListener(marker, 'mouseover', function() {
            info.open();
            // è®¾ç½®æç¤ºçª—å†…å®¹
            info.setContent(`<div><p>${this.name}</p></div>`);
            // æç¤ºçª—ä½ç½® 
            info.setPosition(new qq.maps.LatLng(this.position.lat, this.position.lng));
        });
        qq.maps.event.addListener(marker, 'mouseout', function() {
            info.close();                    
        });
    }
}
```

## 4.ä¸ªæ€§åŒ–åœ°å›¾æ ·å¼
ä¸ºä»€ä¹ˆè¦ç”¨ä¸ªæ€§åŒ–åœ°å›¾ï¼Œæé«˜ä¸åŒåœºæ™¯ä¸‹åœ°å›¾çš„å±•ç°æ•ˆæœå’Œç”¨æˆ·ä½“éªŒã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c86db14b7c184449836eccaa8f42b8f1~tplv-k3u1fbpfcp-zoom-1.image)
ä¸ºä»€ä¹ˆé€‰æ‹©è…¾è®¯ä½ç½®æœåŠ¡ä¸ªæ€§åŒ–åœ°å›¾ï¼š

1. å…¨å¹³å°é€šç”¨
2. å¼€å‘æˆæœ¬æå°
3. ä¸ªæ€§åŒ–æ ·å¼æ”¯æŒåŠ¨æ€æ›´æ–°
4. æ”¯æŒå…¨å±€é…ç½®å’Œåˆ†çº§é…ç½®
5. ç¼–è¾‘å¹³å°UIæ§ä»¶å…¨é¢ä¼˜åŒ–
6. æ¯ä¸ªå…ƒç´ å¯é…ç½®çš„å±æ€§å…¨éƒ¨å¼€æ”¾
7. èƒ½å¤Ÿæ”¯æŒè‡ªå®šä¹‰çš„åœ°å›¾å…ƒç´ æ‰©å……ä¸º52ç§

## 5.è…¾è®¯ä½ç½®å…¥é—¨æ­¥éª¤
1. ç™»å½•è…¾è®¯ä½ç½®æœåŠ¡
2. éªŒè¯æ‰‹æœº ä¸ é‚®ç®±
3. ç”³è¯·å¼€å‘å¯†é’¥ï¼ˆ`Key`ï¼‰
4. é€‰æ‹©æ‚¨éœ€è¦çš„äº§å“

[https://lbs.qq.com/webApi/component/componentGuide/componentMarker](https://lbs.qq.com/webApi/component/componentGuide/componentMarker)

ä½ç½®å±•ç¤ºç»„ä»¶
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b01b445c219467290577e43856e55b9~tplv-k3u1fbpfcp-zoom-1.image)
è·¯çº¿è§„åˆ’ç»„ä»¶

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/37139a8d62f14994a79e0c8210807c29~tplv-k3u1fbpfcp-zoom-1.image)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70b52e333a1d4511bcda366a48bb3945~tplv-k3u1fbpfcp-zoom-1.image)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a591e0c5d2d4244817d28313c086006~tplv-k3u1fbpfcp-zoom-1.image)
åœ°å›¾é€‰ç‚¹ç»„ä»¶
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf54ebd10a0f4a6cbfaf2422a244657a~tplv-k3u1fbpfcp-zoom-1.image)
å‰ç«¯å®šä½ç»„ä»¶
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bf6697dc2c834295add1c4c1500330d4~tplv-k3u1fbpfcp-zoom-1.image)
# ä¸‰.å¾®ä¿¡å°ç¨‹åºJavaScript SDK

1. æˆ‘ç”³è¯·äº†å¼€å‘è€…å¯†é’¥`key`
2. å¼€é€š`webserviceAPI`æœåŠ¡ï¼šæ§åˆ¶å° -> `key`ç®¡ç† -> è®¾ç½®ï¼ˆä½¿ç”¨è¯¥åŠŸèƒ½çš„`key`ï¼‰-> å‹¾é€‰`webserviceAPI` -> ä¿å­˜
(å°ç¨‹åº`SDK`éœ€è¦ç”¨åˆ°`webserviceAPI`çš„éƒ¨åˆ†æœåŠ¡ï¼Œæ‰€ä»¥ä½¿ç”¨è¯¥åŠŸèƒ½çš„`KEY`éœ€è¦å…·å¤‡ç›¸åº”çš„æƒé™)

æ—¥è°ƒç”¨é‡ï¼š`1ä¸‡æ¬¡ / Key`----å¹¶å‘æ•°ï¼š`5æ¬¡ / key / ç§’` ã€‚

```javascript
onLoad() {
	console.log('é¡µé¢åŠ è½½äº†')
	// å®ä¾‹åŒ–APIæ ¸å¿ƒç±»
	qqmapsdk = new QQMapWX({
		// key: 'ç”³è¯·çš„key'
	});
},
onShow() {
	console.log('é¡µé¢æ˜¾ç¤ºäº†')
	// è°ƒç”¨æ¥å£dadaqianduan
	qqmapsdk.search({
		keyword: 'é…’åº—',
		success: (res) => {
			console.log(res);
		},
		fail: (err) => {
			console.log(err);
		},
		complete: (cres) => {
			console.log(cres);
		}
	})
},
```

æˆ‘è¿”å›çš„æ•°æ®å¦‚å›¾ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c95299ca37204206966d018e3b405057~tplv-k3u1fbpfcp-zoom-1.image)
`QQMapWX` -- å°ç¨‹åº`JavaScriptSDK`æ ¸å¿ƒç±» -- `new QQMapWX(options:Object)`
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1cbcfa31f63c41cb8a1c86647969db6a~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
// å¼•å…¥SDKæ ¸å¿ƒç±»
var QQMapWX = require('xxx/qqmap-wx.js');
 
// å®ä¾‹åŒ–APIæ ¸å¿ƒç±»
var demo = new QQMapWX({
    key: 'å¼€å‘å¯†é’¥ï¼ˆkeyï¼‰' // å¿…å¡«
});
```

åœ°ç‚¹æœç´¢ï¼š

```javascript
// åœ°ç‚¹æœç´¢
nearbySearchBtn() {
	qqmapsdk.search({
		keyword: 'kfc', //æœç´¢å…³é”®è¯
		location: '39.980014,116.313972', //è®¾ç½®å‘¨è¾¹æœç´¢ä¸­å¿ƒç‚¹
		success: (res) => {
			var mks = []
			for (var i = 0; i < res.data.length; i++) {
				mks.push({ // è·å–è¿”å›ç»“æœï¼Œæ”¾åˆ°mksæ•°ç»„ä¸­
					title: res.data[i].title,
					id: res.data[i].id,
					latitude: res.data[i].location.lat,
					longitude: res.data[i].location.lng,
					iconPath: "/location.png", //å›¾æ ‡è·¯å¾„
					width: 20,
					height: 20
				})
			}
			this.markers = mks
		},
		fail: (res) => {
			console.log(res);
		},
		complete: (res) => {
			console.log(res);
		}
	});
},
```

æ•ˆæœå¦‚å›¾ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cabfc167bcdc41e19e8d9fca01721175~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
<script>
	// å¼•å…¥SDKæ ¸å¿ƒç±»ï¼Œjsæ–‡ä»¶æ ¹æ®è‡ªå·±ä¸šåŠ¡ï¼Œä½ç½®å¯è‡ªè¡Œæ”¾ç½®
	// var QQMapWX = require('../../js_sdk/wxmp-qqmap/qqmap-wx-jssdk.js');
	import QQMapWX from '../../js_sdk/wxmp-qqmap/qqmap-wx-jssdk.js';
	var qqmapsdk;
	export default {
		components: {},
		data() {
			return {
				backfill: '',
				markers: [],
				suggestion: [],
			}
		},
		onLoad() {
			console.log('é¡µé¢åŠ è½½äº†') // å®ä¾‹åŒ–APIæ ¸å¿ƒç±»
			qqmapsdk = new QQMapWX({ // key: 'ç”³è¯·çš„key'
				key: 'è‡ªå·±ç”³è¯·ï¼Œæˆ‘çš„å°±ä¸æ”¾å‡ºæ¥äº†'
			});
		},
		onShow() {
			console.log('é¡µé¢æ˜¾ç¤ºäº†') // è°ƒç”¨æ¥å£dadaqianduan
			qqmapsdk.search({
				keyword: 'é…’åº—',
				success: (res) => {
					console.log(res);
				},
				fail: (err) => {
					console.log(err);
				},
				complete: (cres) => {
					console.log(cres);
				}
			})
		},
		onReady() {
			console.log('é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆäº†')
		},
		methods: {
			getsuggest(e) {
				console.log(e.detail.value)
			    qqmapsdk.getSuggestion({
			      keyword: e.detail.value, //ç”¨æˆ·è¾“å…¥çš„å…³é”®è¯ï¼Œå¯è®¾ç½®å›ºå®šå€¼,å¦‚keyword:'KFC'
			      //region:'åŒ—äº¬', //è®¾ç½®åŸå¸‚åï¼Œé™åˆ¶å…³é”®è¯æ‰€ç¤ºçš„åœ°åŸŸèŒƒå›´ï¼Œéå¿…å¡«å‚æ•°
			      success: (res) => {//æœç´¢æˆåŠŸåçš„å›è°ƒ
			        console.log(res);
			        var sug = [];
			        for (var i = 0; i < res.data.length; i++) {
			          sug.push({ // è·å–è¿”å›ç»“æœï¼Œæ”¾åˆ°sugæ•°ç»„ä¸­
			            title: res.data[i].title,
			            id: res.data[i].id,
			            addr: res.data[i].address,
			            city: res.data[i].city,
			            district: res.data[i].district,
			            latitude: res.data[i].location.lat,
			            longitude: res.data[i].location.lng
			          });
			        }
			         this.suggestion = sug
			      },
			      fail: (error)=> {
			        console.error(error);
			      },
			      complete: (res)=> {
			        console.log(res);
			      }
			    });
			},
			backfillBtn(e) {
				var id = e.currentTarget.id;
				for (var i = 0; i < this.suggestion.length; i++) {
					if (i == id) {
						this.backfill = this.suggestion[i].title
					}
				}
			},
			// åœ°ç‚¹æœç´¢
			nearbySearchBtn() {
				qqmapsdk.search({
					keyword: 'kfc', //æœç´¢å…³é”®è¯
					location: '39.980014,116.313972', //è®¾ç½®å‘¨è¾¹æœç´¢ä¸­å¿ƒç‚¹
					success: (res) => {
						var mks = []
						for (var i = 0; i < res.data.length; i++) {
							mks.push({ // è·å–è¿”å›ç»“æœï¼Œæ”¾åˆ°mksæ•°ç»„ä¸­
								title: res.data[i].title,
								id: res.data[i].id,
								latitude: res.data[i].location.lat,
								longitude: res.data[i].location.lng,
								iconPath: "/static/location.png", //å›¾æ ‡è·¯å¾„
								width: 20,
								height: 20
							})
						}
						this.markers = mks
					},
					fail: (res) => {
						console.log(res);
					},
					complete: (res) => {
						console.log(res);
					}
				});
			},
		},
		onHide() {
			console.log('é¡µé¢éšè—äº†')
		},
	}
</script>
```

é¢„è§ˆæ•ˆæœå¦‚å›¾ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8ad90dac7b9493fb4d9447da97dc02c~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
<script>
	import QQMapWX from '../../js_sdk/wxmp-qqmap/qqmap-wx-jssdk.js';
	var qqmapsdk;
	export default {
		components: {},
		data() {
			return {
				backfill: '',
				markers: [],
				poi: {
					latitude: 39.984060,
					longitude: 16.307520
				},
			}
		},
		onLoad() {
			console.log('é¡µé¢åŠ è½½äº†') // å®ä¾‹åŒ–APIæ ¸å¿ƒç±»
			qqmapsdk = new QQMapWX({ // key: 'ç”³è¯·çš„key'
				key: ''
			});
		},
		onShow() {
			console.log('é¡µé¢æ˜¾ç¤ºäº†')
		},
		onReady() {
			console.log('é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆäº†')
		},
		methods: {
			formSubmit(e) {
				qqmapsdk.reverseGeocoder({
					location: e.detail.value.reverseGeo || '',
					//è·å–è¡¨å•ä¼ å…¥çš„ä½ç½®åæ ‡,ä¸å¡«é»˜è®¤å½“å‰ä½ç½®,ç¤ºä¾‹ä¸ºstringæ ¼å¼
					//get_poi: 1, //æ˜¯å¦è¿”å›å‘¨è¾¹POIåˆ—è¡¨ï¼š1.è¿”å›ï¼›0ä¸è¿”å›(é»˜è®¤),éå¿…é¡»å‚æ•°
					success: (res) => {
						console.log(res);
						var res = res.result;
						var mks = [];
						/**
						 *  å½“get_poiä¸º1æ—¶ï¼Œæ£€ç´¢å½“å‰ä½ç½®æˆ–è€…locationå‘¨è¾¹poiæ•°æ®å¹¶åœ¨åœ°å›¾æ˜¾ç¤ºï¼Œå¯æ ¹æ®éœ€æ±‚æ˜¯å¦ä½¿ç”¨
						 *
						    for (var i = 0; i < result.pois.length; i++) {
						    mks.push({ // è·å–è¿”å›ç»“æœï¼Œæ”¾åˆ°mksæ•°ç»„ä¸­
						        title: result.pois[i].title,
						        id: result.pois[i].id,
						        latitude: result.pois[i].location.lat,
						        longitude: result.pois[i].location.lng,
						        iconPath: './resources/placeholder.png', //å›¾æ ‡è·¯å¾„
						        width: 20,
						        height: 20
						    })
						    }
						*
						**/
						//å½“get_poiä¸º0æ—¶æˆ–è€…ä¸ºä¸å¡«é»˜è®¤å€¼æ—¶ï¼Œæ£€ç´¢ç›®æ ‡ä½ç½®ï¼ŒæŒ‰éœ€ä½¿ç”¨
						mks.push({ // è·å–è¿”å›ç»“æœï¼Œæ”¾åˆ°mksæ•°ç»„ä¸­
							title: res.address,
							id: 0,
							latitude: res.location.lat,
							longitude: res.location.lng,
							iconPath: '/static/location.png', //å›¾æ ‡è·¯å¾„
							width: 20,
							height: 20,
							callout: { //åœ¨markersä¸Šå±•ç¤ºåœ°å€åç§°ï¼Œæ ¹æ®éœ€æ±‚æ˜¯å¦éœ€è¦
								content: res.address,
								color: '#000',
								display: 'ALWAYS'
							}
						});
						this.markers = mks;
						// this.poi = {
						// 	latitude: res.location.lat,
						// 	longitude: res.location.lng
						// }
					},
					fail: (error) => {
						console.error(error);
					},
					complete: (res) => {
						console.log(res);
					}
				})
			}
		},
		onHide() {
			console.log('é¡µé¢éšè—äº†')
		},
	}
</script>
```

`geocoder` -- æä¾›ç”±åœ°å€æè¿°åˆ°æ‰€è¿°ä½ç½®åæ ‡çš„è½¬æ¢ï¼Œä¸é€†åœ°å€è§£æ`reverseGeocoder()`çš„è¿‡ç¨‹æ­£å¥½ç›¸åã€‚

é¢„è§ˆæ•ˆæœå¦‚å›¾ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/280494408bca41d3930ab05aa7425f61~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
formSubmit(e) {
    //è°ƒç”¨åœ°å€è§£ææ¥å£
    qqmapsdk.geocoder({
      //è·å–è¡¨å•ä¼ å…¥åœ°å€ e.detail.value.geocoder
      address: e.detail.value, //åœ°å€å‚æ•°ï¼Œä¾‹ï¼šå›ºå®šåœ°å€ï¼Œaddress: 'åŒ—äº¬å¸‚æµ·æ·€åŒºå½©å’ŒåŠè·¯æµ·æ·€è¥¿å¤§è¡—74å·'
      success: (res)=> {//æˆåŠŸåçš„å›è°ƒ
        console.log(res);
        var res = res.result;
        var latitude = res.location.lat;
        var longitude = res.location.lng;
        //æ ¹æ®åœ°å€è§£æåœ¨åœ°å›¾ä¸Šæ ‡è®°è§£æåœ°å€ä½ç½®
         this.markers = [{
            id: 0,
            title: res.title,
            latitude: latitude,
            longitude: longitude,
            iconPath: '/static/location.png',//å›¾æ ‡è·¯å¾„
            width: 20,
            height: 20,
            callout: { //å¯æ ¹æ®éœ€æ±‚æ˜¯å¦å±•ç¤ºç»çº¬åº¦
              content: latitude + ',' + longitude,
              color: '#000',
              display: 'ALWAYS'
            }
          }],
          this.poi= { //æ ¹æ®è‡ªå·±dataæ•°æ®è®¾ç½®ç›¸åº”çš„åœ°å›¾ä¸­å¿ƒåæ ‡å˜é‡åç§°
            latitude: Number(latitude),
            longitude:  Number(longitude),
          }
      },
      fail: (error)=> {
        console.error(error);
      },
      complete: (res)=> {
        console.log(res);
      }
    })
}
```

é¢„è§ˆæ•ˆæœå›¾å¦‚ä¸‹ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c38b48a6bae944bbafb0849f5b052dd5~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
formSubmit(e){
	    //è°ƒç”¨è·ç¦»è®¡ç®—æ¥å£
		console.log(this.start,'dadaqianduan')
	    qqmapsdk.calculateDistance({
	        //mode: 'driving',//å¯é€‰å€¼ï¼š'driving'ï¼ˆé©¾è½¦ï¼‰ã€'walking'ï¼ˆæ­¥è¡Œï¼‰ï¼Œä¸å¡«é»˜è®¤ï¼š'walking',å¯ä¸å¡«
	        //fromå‚æ•°ä¸å¡«é»˜è®¤å½“å‰åœ°å€
	        //è·å–è¡¨å•æäº¤çš„ç»çº¬åº¦å¹¶è®¾ç½®fromå’Œtoå‚æ•°ï¼ˆç¤ºä¾‹ä¸ºstringæ ¼å¼ï¼‰
	        // from: e.detail.value.start || '', //è‹¥èµ·ç‚¹æœ‰æ•°æ®åˆ™é‡‡ç”¨èµ·ç‚¹åæ ‡ï¼Œè‹¥ä¸ºç©ºé»˜è®¤å½“å‰åœ°å€
			from: this.start || '',
			to: this.end,
	        // to: e.detail.value.dest, //ç»ˆç‚¹åæ ‡
	        success: (res)=> {//æˆåŠŸåçš„å›è°ƒ
	          console.log(res);
	          var res = res.result;
	          var dis = [];
	          for (var i = 0; i < res.elements.length; i++) {
	            dis.push(res.elements[i].distance); //å°†è¿”å›æ•°æ®å­˜å…¥disæ•°ç»„ï¼Œ
	          }
	          this.distance=dis
	        },
	        fail: (error)=> {
	          console.error(error);
	        },
	        complete: (res)=> {
	          console.log(res);
	        }
	    });
	}
},
```

è°ƒç”¨è·å–åŸå¸‚åˆ—è¡¨æ¥å£ï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3dd73f3eaa04790a599cb8ec639090e~tplv-k3u1fbpfcp-zoom-1.image)
```javascript
onShow() {
	console.log('é¡µé¢æ˜¾ç¤ºäº†')
	//è°ƒç”¨è·å–åŸå¸‚åˆ—è¡¨æ¥å£
	qqmapsdk.getCityList({
		success: (res) => { //æˆåŠŸåçš„å›è°ƒ
			console.log(res);
			console.log('çœä»½æ•°æ®ï¼š', res.result[0]); //æ‰“å°çœä»½æ•°æ®
			this.a = res.result[0]
			console.log('åŸå¸‚æ•°æ®ï¼š', res.result[1]); //æ‰“å°åŸå¸‚æ•°æ®
			this.b = res.result[1]
			console.log('åŒºå¿æ•°æ®ï¼š', res.result[2]); //æ‰“å°åŒºå¿æ•°æ®
			this.c = res.result[2]
		},
		fail: (error) => {
			console.error(error);
		},
		complete: (res) => {
			console.log(res);
		}
	});
},
```

è·å–åŸå¸‚åŒºå¿ï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da8f36a9b57b4547a4d4e663ef148aeb~tplv-k3u1fbpfcp-zoom-1.image)

```javascript
onShow() {
	console.log('é¡µé¢æ˜¾ç¤ºäº†')
	//è°ƒç”¨è·å–åŸå¸‚åˆ—è¡¨æ¥å£
	qqmapsdk.getCityList({
		success: (res) => { //æˆåŠŸåçš„å›è°ƒ
			console.log(res);
			console.log('çœä»½æ•°æ®ï¼š', res.result[0])
			var city = res.result[0];
			//æ ¹æ®å¯¹åº”æ¥å£getCityListè¿”å›æ•°æ®çš„Idè·å–åŒºå¿æ•°æ®ï¼ˆä»¥åŒ—äº¬ä¸ºä¾‹ï¼‰
			qqmapsdk.getDistrictByCityId({
				// ä¼ å…¥å¯¹åº”çœä»½IDè·å¾—åŸå¸‚æ•°æ®ï¼Œä¼ å…¥åŸå¸‚IDè·å¾—åŒºå¿æ•°æ®,ä¾æ¬¡ç±»æ¨
				id: city[0].id, //å¯¹åº”æ¥å£getCityListè¿”å›æ•°æ®çš„Idï¼Œå¦‚ï¼šåŒ—äº¬æ˜¯'110000'
				success: (res) => { //æˆåŠŸåçš„å›è°ƒ
					console.log(res);
					console.log('å¯¹åº”åŸå¸‚IDä¸‹çš„åŒºå¿æ•°æ®(ä»¥åŒ—äº¬ä¸ºä¾‹)ï¼š', res.result[0]);
				},
				fail: (error) => {
					console.error(error);
				},
				complete: (res) => {
					console.log(res);
				}
			});
		},
		fail: (error) => {
			console.error(error);
		},
		complete: (res) => {
			console.log(res);
		}
	});
},
```

å‚è€ƒåœ°å€ï¼šhttps://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview

è…¾è®¯ä½ç½®æœåŠ¡ä¸ºå¾®ä¿¡å°ç¨‹åºæä¾›äº†åŸºç¡€çš„æ ‡ç‚¹èƒ½åŠ›ã€çº¿å’Œåœ†çš„ç»˜åˆ¶æ¥å£ç­‰åœ°å›¾ç»„ä»¶å’Œä½ç½®å±•ç¤ºã€åœ°å›¾é€‰ç‚¹ç­‰åœ°å›¾`API`ä½ç½®æœåŠ¡èƒ½åŠ›æ”¯æŒï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥è‡ªç”±åœ°å®ç°è‡ªå·±çš„å¾®ä¿¡å°ç¨‹åºäº§å“ã€‚ åœ¨æ­¤åŸºç¡€ä¸Šï¼Œè…¾è®¯ä½ç½®æœåŠ¡å¾®ä¿¡å°ç¨‹åº`JavaScript` `SDK`æ˜¯ä¸“ä¸ºå°ç¨‹åºå¼€å‘è€…æä¾›çš„`LBS`æ•°æ®æœåŠ¡å·¥å…·åŒ…ï¼Œå¯ä»¥åœ¨å°ç¨‹åºä¸­è°ƒç”¨è…¾è®¯ä½ç½®æœåŠ¡çš„`POI`æ£€ç´¢ã€å…³é”®è¯è¾“å…¥æç¤ºã€åœ°å€è§£æã€é€†åœ°å€è§£æã€è¡Œæ”¿åŒºåˆ’å’Œè·ç¦»è®¡ç®—ç­‰æ•°æ®æœåŠ¡ï¼Œè®©æ‚¨çš„å°ç¨‹åºæ›´å¼ºå¤§ï¼

æ’ä»¶å¸‚åœºï¼š[https://ext.dcloud.net.cn/plugin?id=3746](https://ext.dcloud.net.cn/plugin?id=3746)å¯ä»¥å¤šä¸‹è½½è¯•è¯•ç©ï¼Œåç»­æ›´æ–°æ’ä»¶å†…å®¹ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45ffe9625d30496a98e949ea72a13eef~tplv-k3u1fbpfcp-zoom-1.image)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b80ba7946ab4de5b260c22789428224~tplv-k3u1fbpfcp-zoom-1.image)

ç”³è¯·è…¾è®¯åœ°å›¾å¼€å‘è€…æ‰€ç”¨åˆ°çš„keyï¼Œé“¾æ¥ï¼š [https://lbs.qq.com?lbs_invite=VJJIFLV](https://lbs.qq.com?lbs_invite=VJJIFLV)

ä¸“å±é‚€è¯·ç ï¼š VJJIFLV

æˆ‘æ˜¯Jeskson(è¾¾è¾¾å‰ç«¯)ï¼Œæ„Ÿè°¢å„ä½äººæ‰çš„ï¼šç‚¹èµã€æ”¶è—å’Œè¯„è®ºï¼Œæˆ‘ä»¬ä¸‹æœŸè§ï¼